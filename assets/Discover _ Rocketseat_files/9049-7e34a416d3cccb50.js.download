(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9049],{85203:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var a=n(12318),r=(0,n(3621).zo)("div",{fontSize:"16px",lineHeight:"1.5","> * + *":{marginTop:"1.5em"},p:{color:"#e1e1e6"},pre:{padding:"1em 1.5em !important",lineHeight:"2"},"pre, code":{fontSize:"14px",fontFamily:"'Fira Code', monospace",background:"$grey-800 !important",borderRadius:"5px",whiteSpace:"pre-wrap"},"p > code":{padding:"5px",margin:"0 4px"},a:{color:"#8257e6",fontWeight:"bold","&:hover":{color:"#896ceb",textDecoration:"underline"}},variants:{preview:{true:{height:"304px",overflowY:"auto",padding:"14px 20px",background:"rgba(0, 0, 0, 0.12)",borderRadius:"5px",scrollbarStyle:a.T}}},"@media (max-width: 768px)":{fontSize:"15px","pre, code":{fontSize:"13px"}}})},88295:function(e,t,n){"use strict";n.d(t,{l:function(){return p}});var a=n(85893),r=n(96486),i=n(67294),o=n(57632),u=n(34796),s=(0,n(3621).zo)("div",{position:"relative",overflow:"hidden",width:"100%",paddingTop:"56.25%",iframe:{border:0,position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%"},".signal-language-btn":{background:"url(/assets/icons/player/signal-language.svg) no-repeat center",backgroundSize:"16px auto"},".audio-description-btn":{background:"url(/assets/icons/player/audio-description.svg) no-repeat center",backgroundSize:"24px auto"},".vjs-icon-cog:before":{fontSize:"15px"}}),d="@Skylab:defaultPlayerSpeed",l="@Skylab:defaultPlayerVolume",c=[.5,.75,1,1.25,1.5,2],p=(0,i.forwardRef)((function(e,t){var n=e.autoplay,p=(e.platform,e.journey),g=e.product,f=e.videoId,h=(e.lessonId,e.signalLanguageVideoId),m=e.audioDescriptionVideoId,v=e.onReady,b=e.onPlay,y=e.onPause,x=e.onTimeUpdate,w=e.onEnd,k=e.startTime,S=void 0===k?0:k,R=e.watchTimeIntervalSeconds,z=void 0===R?20:R,C=e.watchTimeInScecondsToTriggerStreak,I=void 0===C?60:C,P=e.onWatchTime,T=e.onTriggerStreak,E=void 0===T?function(){}:T,_=(e.hasCaption,e.isAudioDescriptionActive),j=e.isSignalLanguageActive,V=(e.onToggleAudioDescription,e.onToggleSignalLanguage),L=e.isFree,D=void 0!==L&&L,N=_?m:f,A=(0,i.useRef)(0),H=(0,i.useRef)(null),W=(0,i.useRef)(null),B=(0,i.useRef)((0,o.Z)()),M=(0,i.useRef)((0,o.Z)()),Z=(0,i.useRef)(null),F=(0,i.useRef)(null),U=(0,i.useRef)(0);(0,i.useImperativeHandle)(t,(function(){return{getPlayerInstance:function(){return Z.current}}}),[]);var q=function(){M.current=(0,o.Z)()},Y=(0,i.useCallback)((function(e){var t=localStorage.getItem(d),n=c.includes(Number(t))?Number(t):1;return e.setSpeed(n),n}),[]),$=(0,i.useCallback)((function(e){var t=localStorage.getItem(l);return e.setVolume(Number(t)),t}),[]),G=(0,i.useCallback)((function(e,t){var n=void 0===t?{}:t,a=n.speed,r=n.bypassPlayingCheck,i=void 0!==r&&r,o=Z.current;if(i||!o.isPaused()){var u=D;"discover"===g&&(u=!0);var s={id:M.current,session_id:B.current,video_id:N,current_time:Math.round(e),speed:a,journey:p||"plus",product:g||"plus",freemium:u};P&&P(s)}}),[P,N,p,g,D]),J=(0,i.useCallback)((0,r.throttle)(G,1e3*z,{trailing:!1}),[G,z]),K=(0,i.useCallback)((0,r.throttle)(E,1e3,{trailing:!1}),[E]),O=(0,i.useCallback)((function(){var e=+localStorage.getItem(d)||1;F.current=window.setInterval((function(){U.current+=1}),1e3/e)}),[]),Q=(0,i.useCallback)((function(){F.current&&clearInterval(F.current)}),[]),X=(0,i.useCallback)((function(){Q(),U.current=0}),[Q]),ee=(0,i.useCallback)((0,r.debounce)((function(e,t){G(e,{bypassPlayingCheck:!0}),q(),G(t,{bypassPlayingCheck:!0})}),1e3),[G]),te=(0,i.useCallback)((0,r.debounce)((function(e,t){G(e,{speed:t}),q(),G(e)}),1e3),[G]);return(0,i.useEffect)((function(){window.onPandaPlayerApiLoad=function(){var e=new PandaPlayer("panda-player",{onReady:function(){Z.current=e,e.onEvent((function(t){var n=W.current,a=e.getCurrentTime();if("panda_ready"===t.message){v&&v(e.getDuration());var r=Y(e);$(e),q(),G(a,{speed:r,bypassPlayingCheck:!0})}if("panda_play"===t.message&&(Q(),O(),b&&b(),n&&(n.play(),n.currentTime(a))),"panda_pause"===t.message&&(Q(),y&&y(),n&&(n.pause(),n.currentTime(a))),"panda_ended"===t.message&&(w&&w(),j&&V()),"panda_speed_update"===t.message){var i=+localStorage.getItem(d)||1;if(te(a,i),localStorage.setItem(d,t.speed),i=a,e.paused)return;Q(),O()}if("panda_timeupdate"===t.message){var o=A.current&&Math.abs(a-A.current)>1;U.current===I&&K(),o?ee(A.current,a):J(a),A.current=t.currentTime,x&&x({time:t.currentTime})}if("panda_allData"===t.message){var u,s,c=localStorage.getItem(l);if((null===t||void 0===t||null===(u=t.playerData)||void 0===u?void 0:u.volume)!==Number(c))localStorage.setItem(l,String(null===t||void 0===t||null===(s=t.playerData)||void 0===s?void 0:s.volume))}}))}})},window.onPandaPlayerApiLoad()}),[Q,ee,Y,te,K,J,G,O,w,y,b,v,x,S,I,j,$,V]),(0,i.useEffect)((function(){N&&X()}),[X,N]),(0,a.jsxs)(s,{children:[(0,a.jsx)("iframe",{id:"panda-player",src:"https://player-vz-762f4670-e04.tv.pandavideo.com.br/embed/?v=".concat(N,"&autoplay=").concat(n,"&muted=false&smartAutoplay=true&defaultSpeed=1"),allow:"accelerometer;gyroscope;autoplay;encrypted-media",allowFullScreen:!0,width:"720",height:"420",title:"Panda player",ref:H}),(0,a.jsx)(u.B,{ref:W,targetVideoRef:H,targetPlayerRef:Z,videoId:h,visible:j,onClose:V})]})}));p.displayName="PandaVideoPlayer"},34796:function(e,t,n){"use strict";n.d(t,{B:function(){return b}});var a=n(85893),r=n(96486),i=n(67294),o=n(73935),u=n(42663),s=n(85215),d=n(50918),l=n(5082),c=n(3621),p=(0,c.zo)("div",{display:"none",flexDirection:"column",background:"#323238",borderRadius:"5px",position:"relative",padding:"0 5px 5px",overflow:"hidden","+ div .resize-handle":{display:"none",background:"url(/assets/icons/player/resize.svg) no-repeat center #323238",width:"34px !important",height:"34px !important",right:"1px !important",bottom:"1px !important",borderRadius:"5px"},variants:{isVisible:{true:{display:"flex","+ div .resize-handle":{display:"block"}}}}}),g=(0,c.zo)("button",{position:"absolute",top:60,right:16,background:"url(/assets/icons/player/close.svg) no-repeat center #323238",width:34,height:34,borderRadius:9999,border:0,zIndex:2,fontSize:0}),f=(0,c.zo)("button",{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,height:44,padding:"0 8px",background:"none",border:0,color:"#E1E1E6",fontWeight:"bold",textTransform:"uppercase",fontSize:13,cursor:"move",i:{width:18,height:18,background:"url(/assets/icons/player/drag.svg) no-repeat center"}}),h=(0,c.zo)("div",{width:"100%",height:0,paddingBottom:"56.25%",position:"relative",video:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),m={width:350,height:240},v=function(e){return[{src:e.hls,type:"application/x-mpegURL"}]},b=(0,i.forwardRef)((function(e,t){var n=e.targetVideoRef,c=e.targetPlayerRef,b=e.videoId,y=e.visible,x=e.onClose,w=(0,i.useRef)(null),k=(0,i.useState)({x:0,y:0}),S=k[0],R=k[1],z=(0,i.useState)(m),C=z[0],I=z[1],P=(0,d.a)("(max-width: 768px)"),T=(0,l.Z)("panda",b),E=(0,i.useCallback)((function(){var e=n.current;if(e){var t=e.getBoundingClientRect();if(P){var a={width:Math.min(m.width,t.width),height:Math.min(m.height,t.height+44)};I(a),R({x:30+t.width/2-a.width/2,y:t.top-a.height-20})}else I(m),R({x:t.right+28,y:t.bottom-m.height})}}),[P,n]);return(0,i.useEffect)((function(){var e=w.current,a=null===n||void 0===n?void 0:n.current,r=null===c||void 0===c?void 0:c.current;if(e&&a&&b&&y)if(t.current){var i=t.current;i.currentVideoId!==b&&(i.src(v(T)),i.currentTime(r.getCurrentTime()),i.currentVideoId=b)}else{var o=(0,s.default)(e,{autoplay:!r.isPaused(),controls:!1,muted:!0,responsive:!0,fluid:!0,sources:v(T)});t.current=o,o.currentTime(r.getCurrentTime()),o.currentVideoId=b}}),[t,n,T,b,y]),(0,i.useEffect)((function(){y&&E()}),[y,E]),(0,i.useEffect)((function(){var e=(0,r.debounce)(E,500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[E]),(0,o.createPortal)((0,a.jsx)(u.s,{position:S,size:C,onDragStop:function(e,t){return R({x:t.x,y:t.y})},onResizeStop:function(e,t,n,a,r){R(r),I({width:n.offsetWidth,height:n.offsetHeight})},default:{width:350,height:240,x:0,y:0},lockAspectRatio:16/9,lockAspectRatioExtraHeight:44,maxWidth:600,minWidth:150,bounds:"window",dragHandleClassName:"drag-handle",resizeHandleClasses:{bottomRight:"resize-handle"},enableResizing:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},style:{zIndex:10,pointerEvents:y?"all":"none"},children:(0,a.jsxs)(p,{isVisible:y&&!!b,children:[(0,a.jsx)(g,{onClick:x,children:"Close"}),(0,a.jsxs)(f,{className:"drag-handle",children:[(0,a.jsx)("i",{}),"Mover"]}),(0,a.jsx)(h,{children:(0,a.jsx)("video",{ref:w})})]})}),document.getElementById("draggable"))}));b.displayName="SignalLanguagePopup"},5082:function(e,t,n){"use strict";function a(e,t){return"mux"===e?function(e){return{hls:"https://stream.mux.com/".concat(e,".m3u8"),poster:"https://image.mux.com/".concat(e,"/thumbnail.png?width=1280&height=720&fit_mode=pad")}}(t):"panda"===e?function(e){return{hls:"https://b-vz-762f4670-e04.tv.pandavideo.com.br/".concat(e,"/playlist.m3u8"),poster:"https://vz-762f4670-e04.b-cdn.net/".concat(e,"/thumbnail.jpg")}}(t):function(e){var t="https://alnilam.rocketseat.dev";return{hls:"".concat(t,"/outputs/").concat(e,"/master.m3u8"),poster:"".concat(t,"/outputs/").concat(e,"/poster-25_0.jpg"),thumbnailTrack:{url:"".concat(t,"/outputs/").concat(e,"/preview/thumb-track.vtt")}}}(t)}n.d(t,{Z:function(){return a}})},25893:function(){}}]);