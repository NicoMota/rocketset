(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{41931:function(e,i,r){"use strict";r.d(i,{gm:function(){return s}});var o=r(67294);const n=(0,o.createContext)(void 0);function s(e){const i=(0,o.useContext)(n);return e||i||"ltr"}},29022:function(e,i,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discover",function(){return r(18757)}])},18757:function(e,i,r){"use strict";r.r(i),r.d(i,{__N_SSG:function(){return V},default:function(){return Q}});var o=r(28520),n=r.n(o),s=r(85893),t=r(11163),l=r(67294),a=r(86922),d=r(81898),c=r(60899),u=r(3220),p=r(14289),g=r(85665),m=r(35373),v=r(44804),f=r(25675),h=r(41664),x=r(60155),b=r(50611),$=r(83758),j=r(59093),y=r(714),C=r(20016),w=function(e){var i=e.isOpen,r=e.setIsOpen,o=(0,c.aC)().user,n="".concat("https://rocketseat.com.br/discover","?referral=").concat(null===o||void 0===o?void 0:o.slug);return(0,s.jsx)(b.u_,{open:i,onOpenChange:r,children:(0,s.jsx)(b.AB,{css:{maxWidth:"35rem"},children:(0,s.jsxs)(b.Zb,{children:[(0,s.jsx)(b.xu,{css:{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}},children:(0,s.jsx)(b.X6,{size:"sm",children:"Convide mais pessoas para embarcar no Discover!"})}),(0,s.jsxs)(b.aY,{css:{display:"flex",flexDirection:"column",gap:"$6"},children:[(0,s.jsx)(b.xv,{children:"O Discover \xe9 100% gr\xe1tis e pode transformar a vida de algu\xe9m. Compartilhe sua experi\xeancia e convide mais pessoas para descobrir o universo da programa\xe7\xe3o com a Rocketseat."}),(0,s.jsx)(C.g,{css:{p:{br:{display:"none"}}},sharingUrl:n,activeColors:{background:"$discover-mid",hover:"$discover-dark !important"},shareText:"Compartilhar via",shareQuote:"Conhe\xe7a o Discover, o programa 100% gratu\xedto da Rocketseat que vai te guiar do zero \xe0 sua primeira p\xe1gina web! Eu fiz e recomendo: ".concat(n)})]})]})})})},z=r(50918),T=r(3621),E=(0,T.zo)("a",{display:"flex",width:"100%",marginBottom:"$8",transition:"filter 0.3s","&:hover":{cursor:"pointer",filter:"brightness(1.1)"},"@mobile":{justifyContent:"flex-start"}}),k=(0,T.zo)(b.xu,{display:"flex",width:"100%",paddingRight:"$8",alignItems:"center",justifyContent:"space-between",borderRadius:"$sm",background:"$discover-low","@media (max-width: 1014px)":{px:"$4",paddingBottom:"$4",flexDirection:"column",alignItems:"flex-start"}}),S=(0,T.zo)(b.xu,{minWidth:"15rem",marginTop:"-2.25rem"}),_=function(){var e=(0,z.a)("(max-width: 768px)"),i=(0,j.m)(),r=i.lessonGroupsData,o=i.courseSlug,n=r[0],t=null===n||void 0===n?void 0:n.slug,l=null===n||void 0===n?void 0:n.nextLessonSlug,a=o?"/discover/course/".concat(o,"/").concat(t,"/").concat(l):"/discover";return(0,s.jsx)(h.default,{prefetch:!1,passHref:!0,href:a,children:(0,s.jsx)(E,{children:(0,s.jsxs)(k,{children:[(0,s.jsx)(S,{children:(0,s.jsx)(f.default,{src:"/assets/images/discover/mayk-image-card-onboarding.png",width:240,height:200,quality:100})}),(0,s.jsxs)(b.xu,{css:{display:"flex",maxWidth:"26rem",margin:"$6 $4 $6 0",flexDirection:"column",justifyContent:"center","@mobile":{maxWidth:"44rem",margin:"$4 $0 $4 0"}},children:[(0,s.jsx)(b.X6,{css:{"@mobile":{marginTop:"$4"}},children:"Quer bom ter voc\xea aqui!"}),(0,s.jsx)(b.xv,{css:{marginTop:"$4"},children:"Boas-vindas ao Discover! Eu sou o Mayk Brito e vou te guiar nessa jornada pr\xe1tica de introdu\xe7\xe3o a programa\xe7\xe3o. Vem comigo, que vou te mostrar como vai ser!"})]}),(0,s.jsxs)(b.xu,{css:{gap:"$2",display:"flex",alignItems:"center","@mobile":{color:"$discover-light"}},children:[(0,s.jsx)(b.xv,{css:{display:"none",fontWeight:500,"@mobile":{display:"flex",color:"$discover-light"}},children:"Iniciar jornada"}),(0,s.jsx)(x.mzm,{size:20,color:e?"#6A80FF":"#C4C4CC"})]})]})})})},A=r(56019),R=(0,T.zo)(b.xu,{width:"100%",display:"flex",flexDirection:"column"}),D=(0,T.zo)(A.fC,{}),L=(0,T.zo)(b.xu,{display:"flex",width:"100%",justifyContent:"space-between"}),O=(0,T.zo)(A.ck,{}),G=(0,T.zo)(A.xz,{width:"100%",display:"flex",position:"relative",border:"none",paddingLeft:"$6",paddingBottom:"$12",background:"$grey-900",borderLeft:"2px solid $grey-600",fontSize:"$xl",color:"$grey-100",fontWeight:"$bold",transition:"0.3s",span:{top:"4px",left:"-8px",width:"$4",height:"$4",borderRadius:"50%",position:"absolute",background:"$grey-900",border:"2px solid $grey-100"},'&[data-state="open"]':{paddingBottom:"$4",svg:{transform:"rotate(180deg)"}},"&:last-child":{background:"blue"},variants:{completed:{true:{color:"$success-light",borderLeftColor:"$success-light",span:{background:"$success-light",borderColor:"$success-light"}}},first:{true:{"&::before":{top:"0px",left:"-2px",content:"",width:"2px",height:"4px",position:"absolute",background:"$grey-900"}}}},"@mobile":{borderLeft:"none",paddingLeft:"unset",span:{display:"none"}}}),I=(0,T.zo)(A.VY,{padding:"$4 0 $12 1.563rem",borderLeft:"2px solid $grey-600",variants:{completed:{true:{borderLeftColor:"$success-light"}}},"@mobile":{borderLeft:"none",paddingLeft:"$4 0 $8 0"}}),P=(0,T.zo)("a",{display:"grid",columnGap:"$6",gridTemplateColumns:"auto auto 15rem",gridTemplateAreas:'"title info illustration" "description description illustration" "progress progress ."',padding:"$6",borderRadius:"$sm",background:"$grey-800",border:"1.5px solid $grey-800","&:hover":{cursor:"pointer",borderColor:"$discover-mid"},"@mobile":{gridTemplateColumns:"1fr",gridTemplateAreas:'"illustration" "title" "info" "description" "progress"'}}),W=(0,T.zo)(b.xu,{gridArea:"info",display:"flex",alignSelf:"start",justifySelf:"end",alignItems:"center","span:first-child":{"&::after":{content:"",width:"$1",height:"$1",borderRadius:"50%",verticalAlign:"middle",display:"inline-flex",margin:"auto 0.375rem",background:"$grey-500"}},"@mobile":{justifySelf:"start"}}),B=(0,T.zo)(b.xu,{gridArea:"illustration",borderRadius:"$sm",overflow:"hidden",img:{objectFit:"cover"}}),N=(0,T.zo)("progress",{margin:"auto",$$height:"4px",width:"100%",height:"$$height",appearance:"none","&::-webkit-progress-bar":{height:"$$height",borderRadius:"9999px",backgroundColor:"#323238"},"&::-webkit-progress-value":{height:"$$height",borderRadius:"9999px",backgroundColor:"#04D361"}}),q=(0,T.zo)(b.xu,{display:"flex",padding:"$6",gap:"$6",width:"100%",alignItems:"center",borderRadius:"sm",background:"$grey-800","@mobile":{flexDirection:"column",alignItems:"flex-start"}}),U=((0,T.zo)(b.xu,{display:"flex",flexDirection:"column",gap:"$8",marginBottom:"$8"}),function(e){var i=e.loading,r=(0,l.useState)([]),o=r[0],n=r[1],t=(0,l.useState)(!1),a=t[0],d=t[1],c=(0,j.m)(),u=c.courseSlug,p=c.lessonGroupsData,g=(c.certificate,c.onboardingCompleted),m=(0,$.C)().handleGetCertificate,v=(0,l.useMemo)((function(){return p.filter((function(e){return!e.groupCompleted}))[0]}),[p]),C=!1,z=(0,l.useCallback)((function(){d((function(e){return!e}))}),[]);return(0,l.useEffect)((function(){(null===v||void 0===v?void 0:v.slug)&&n([null===v||void 0===v?void 0:v.slug,"certificate"])}),[null===v||void 0===v?void 0:v.slug]),(0,s.jsx)(b.ld,{loading:i,children:(0,s.jsx)(b.Od,{template:y.f,children:(0,s.jsxs)(R,{children:[(0,s.jsx)(w,{isOpen:a,setIsOpen:z}),!g&&(0,s.jsx)(_,{}),(0,s.jsxs)(D,{type:"multiple",value:o,onValueChange:n,children:[p.map((function(e,i){var r=e.id,o=e.slug,n=e.title,t=e.description,l=e.thumbnailUrl,a=e.nextLessonSlug,d=e.totalGroupTime,c=e.totalGroupLessons,p=e.percentageGroupCompleted;return(0,s.jsxs)(O,{value:o,children:[(0,s.jsxs)(G,{first:i+1===1,completed:100===p,children:[(0,s.jsx)("span",{}),(0,s.jsxs)(L,{children:["M\xf3dulo ",i+1,(0,s.jsx)(x.CgR,{})]})]}),(0,s.jsx)(I,{completed:100===p,children:(0,s.jsx)(h.default,{prefetch:!1,passHref:!0,href:"/discover/course/".concat(u,"/").concat(o,"/").concat(a),children:(0,s.jsxs)(P,{children:[(0,s.jsx)(b.X6,{size:"sm",css:{gridArea:"title",maxWidth:"17.25rem","@mobile":{fontSize:"$xl",marginTop:"$4"}},children:n}),(0,s.jsxs)(W,{children:[(0,s.jsxs)(b.xv,{size:"sm",css:{margin:"0"},as:"span",children:[c," aulas"]}),(0,s.jsx)(b.xv,{size:"sm",css:{margin:"0"},as:"span",children:d})]}),(0,s.jsx)(b.xv,{size:"sm",css:{gridArea:"description",margin:"$2 auto $4"},children:t}),(0,s.jsxs)(b.xu,{css:{gridArea:"progress",display:"flex",gap:"$3"},children:[(0,s.jsxs)(b.xv,{size:"xs",as:"span",css:{margin:"0",color:"$white",fontWeight:"bold",minWidth:"fit-content"},children:[p,"% completo"]}),(0,s.jsx)(N,{value:p||0,max:100})]}),(0,s.jsx)(B,{children:(0,s.jsx)(f.default,{src:l||"/assets/images/discover/discover-thumb-placeholder.png",width:280,height:210,quality:100})})]})})})]},r)})),(0,s.jsxs)(O,{value:"certificate",children:[(0,s.jsxs)(G,{css:{border:"none"},children:[(0,s.jsx)("span",{}),(0,s.jsxs)(L,{children:["Certificado",(0,s.jsx)(x.CgR,{})]})]}),(0,s.jsx)(I,{css:{border:"none"},children:(0,s.jsxs)(q,{children:[(0,s.jsxs)(b.xu,{css:{width:"100%"},children:[(0,s.jsxs)(b.X6,{children:["Certificado",(0,s.jsx)(x.Q6l,{size:20,color:"#8d8d99",style:{marginLeft:"0.5rem"}})]}),(0,s.jsx)(b.xv,{size:"sm",css:{marginTop:"0"},children:"Em breve voc\xea poder\xe1 emitir seu certificado, te avisaremos por e-mail!"}),C]}),(0,s.jsx)(b.zx,{css:{textTransform:"uppercase",minWidth:"fit-content",background:"$discover-mid",color:"$white","&:hover:not([disabled])":{background:"$discover-dark !important"}},onClick:m,disabled:!0,children:"Emitir certificado"})]})})]})]})]})})})}),Y=r(2917),M=(0,T.zo)("main",{display:"grid",gap:"6.5rem",gridTemplateColumns:"23.875rem 1fr",gridTemplateAreas:'"sidebar journey"',"@media (max-width: 990px)":{gap:"$8",margin:"0",gridTemplateColumns:"1fr",gridTemplateAreas:'"sidebar" "journey"',aside:{display:"none"}},"@media (max-width: 1264px)":{gap:"4rem"}});function X(e,i,r,o,n,s,t){try{var l=e[s](t),a=l.value}catch(d){return void r(d)}l.done?i(a):Promise.resolve(a).then(o,n)}F=n().mark((function e(i){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.oL.getServerPage({context:g.wj,variables:{slug:g.Y4}},null);case 3:return r=e.sent,e.abrupt("return",{props:r.props});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{redirect:{destination:"/",permanent:!1}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}));var F,Q=(0,p.CG)(u.oL.withPage((function(){return{context:g.wj,variables:{slug:g.Y4}}}))((0,d.Q)((function(e){var i,r,o=e.data,n=(0,l.useState)(!0),d=n[0],u=n[1],p=(0,l.useState)(!0),f=p[0],h=p[1],x=(0,t.useRouter)(),b=(0,c.aC)().isRecoveringUserSession,$=(0,j.m)().dispatch,y=null===o||void 0===o?void 0:o.course,C=(0,m.b0)({context:{service:g.wj.service,showToastOnError:!1}}).data,w=(0,m.eU)({context:{service:g.wj.service,showToastOnError:!1},fetchPolicy:"no-cache"}).data;(0,l.useEffect)((function(){var e,i;if(C&&w){var r=!!(null===w||void 0===w||null===(e=w.getEnrollment)||void 0===e?void 0:e.id),o="ACTIVE"===(null===C||void 0===C||null===(i=C.currentStudent)||void 0===i?void 0:i.status);r||!o?r||o?(u(!1),h(!1)):x.push("/discover/enroll"):x.push("/discover-2022")}}),[C,w,x]);var z=(0,m._0)({context:{service:g.wj.service,showToastOnError:!1},variables:{courseSlug:g.Y4},fetchPolicy:"no-cache"}),T=z.data,E=z.loading,k=(0,m.oo)({context:{service:g.wj.service,showToastOnError:!1},variables:{trailSlug:g.Y4}}).data,S=null===T||void 0===T?void 0:T.courseProgress,_=null===(i=null===y||void 0===y?void 0:y.lessonGroups[0])||void 0===i||null===(r=i.lessons)||void 0===r?void 0:r.slice(0,5),A=null===S||void 0===S?void 0:S.filter((function(e){return!(null===_||void 0===_?void 0:_.some((function(i){return i.slug===e.slug})))})),R=null===A||void 0===A?void 0:A.find((function(e){return!!e.completed})),D=(0,l.useMemo)((function(){var e=null===_||void 0===_?void 0:_.map((function(e){return null===S||void 0===S?void 0:S.find((function(i){return i.slug===e.slug}))})),i=null===e||void 0===e?void 0:e.filter((function(e){return!!(null===e||void 0===e?void 0:e.completed)}));return 5===(null===i||void 0===i?void 0:i.length)||!!R}),[_,S,R]),L=(0,l.useMemo)((function(){if(S)return null===y||void 0===y?void 0:y.lessonGroups.map((function(e){var i=e.lessons.length,r=null===e||void 0===e?void 0:e.lessons.map((function(e){return S.find((function(i){return i.slug===e.slug}))})),o=r.filter((function(e){return!!e.completed})),n=r.find((function(e){return!e.completed})),s=n||e.lessons[i-1],t=null===e||void 0===e?void 0:e.lessons.filter((function(e){return"QUIZ"===e.type})),l=null===t||void 0===t?void 0:t.map((function(e){return null===r||void 0===r?void 0:r.find((function(i){return(null===i||void 0===i?void 0:i.slug)===(null===e||void 0===e?void 0:e.slug)}))})),a=null===l||void 0===l?void 0:l.filter((function(e){return!!(null===e||void 0===e?void 0:e.completed)}));return{lessonGroupId:null===e||void 0===e?void 0:e.id,lessonGroupSlug:null===e||void 0===e?void 0:e.slug,nextLessonSlug:null===s||void 0===s?void 0:s.slug,totalCompleted:null===o||void 0===o?void 0:o.length,quizzesTotalAmout:null===t||void 0===t?void 0:t.length,quizzesCompletedAmount:null===a||void 0===a?void 0:a.length}}))}),[null===y||void 0===y?void 0:y.lessonGroups,S]),O=d||f||E;return(0,l.useEffect)((function(){y&&$({type:"SET_COURSE_DATA",payload:{course:y,groupSummary:L}})}),[$,y,L]),(0,l.useEffect)((function(){k&&$({type:"SET_CERTIFICATE_DATA",payload:k.getCertificateByTrailSlug})}),[k,$]),(0,l.useEffect)((function(){w&&$({type:"SET_ENROLLMENT_DATA",payload:w.getEnrollment})}),[w,$]),(0,l.useEffect)((function(){T&&$({type:"SET_COURSE_PROGRESS_DATA",payload:{courseProgress:T.courseProgress,isOnboardingFinished:D}})}),[T,$,D]),b?(0,s.jsx)(a.I,{}):(0,s.jsx)(v.e,{title:"Discover",children:(0,s.jsxs)(M,{children:[(0,s.jsx)(Y.Y,{loading:O}),(0,s.jsx)(U,{loading:O})]})})})))),V=!0}},function(e){e.O(0,[3482,8129,9866,2091,724,6893,7404,6019,6282,3560,7304,4025,9774,2888,179],(function(){return i=29022,e(e.s=i);var i}));var i=e.O();_N_E=i}]);