(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6752],{47730:function(e,n,r){"use strict";r.d(n,{z:function(){return s}});var t=r(67294),i=r(73935);const o=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?t.useLayoutEffect:()=>{};const s=e=>{const{present:n,children:r}=e,s=function(e){const[n,r]=(0,t.useState)(),s=(0,t.useRef)({}),l=(0,t.useRef)(e),c=(0,t.useRef)("none"),d=e?"mounted":"unmounted",[u,f]=function(e,n){return(0,t.useReducer)(((e,r)=>{const t=n[e][r];return null!==t&&void 0!==t?t:e}),e)}(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,t.useEffect)((()=>{const e=a(s.current);c.current="mounted"===u?e:"none"}),[u]),o((()=>{const n=s.current,r=l.current;if(r!==e){const t=c.current,i=a(n);if(e)f("MOUNT");else if("none"===i||"none"===(null===n||void 0===n?void 0:n.display))f("UNMOUNT");else{const e=t!==i;f(r&&e?"ANIMATION_OUT":"UNMOUNT")}l.current=e}}),[e,f]),o((()=>{if(n){const e=e=>{const r=a(s.current).includes(e.animationName);e.target===n&&r&&(0,i.flushSync)((()=>f("ANIMATION_END")))},r=e=>{e.target===n&&(c.current=a(s.current))};return n.addEventListener("animationstart",r),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",r),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}f("ANIMATION_END")}),[n,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:(0,t.useCallback)((e=>{e&&(s.current=getComputedStyle(e)),r(e)}),[])}}(n),l="function"===typeof r?r({present:s.isPresent}):t.Children.only(r),c=function(...e){return(0,t.useCallback)(function(...e){return n=>e.forEach((e=>function(e,n){"function"===typeof e?e(n):null!==e&&void 0!==e&&(e.current=n)}(e,n)))}(...e),e)}(s.ref,l.ref);return"function"===typeof r||s.isPresent?(0,t.cloneElement)(l,{ref:c}):null};function a(e){return(null===e||void 0===e?void 0:e.animationName)||"none"}s.displayName="Presence"},73154:function(e,n,r){"use strict";r.d(n,{g7:function(){return s}});var t=r(87462),i=r(67294);function o(...e){return n=>e.forEach((e=>function(e,n){"function"===typeof e?e(n):null!==e&&void 0!==e&&(e.current=n)}(e,n)))}const s=(0,i.forwardRef)(((e,n)=>{const{children:r,...o}=e,s=i.Children.toArray(r),l=s.find(c);if(l){const e=l.props.children,r=s.map((n=>n===l?i.Children.count(e)>1?i.Children.only(null):(0,i.isValidElement)(e)?e.props.children:null:n));return(0,i.createElement)(a,(0,t.Z)({},o,{ref:n}),(0,i.isValidElement)(e)?(0,i.cloneElement)(e,void 0,r):null)}return(0,i.createElement)(a,(0,t.Z)({},o,{ref:n}),r)}));s.displayName="Slot";const a=(0,i.forwardRef)(((e,n)=>{const{children:r,...t}=e;return(0,i.isValidElement)(r)?(0,i.cloneElement)(r,{...d(t,r.props),ref:o(n,r.ref)}):i.Children.count(r)>1?i.Children.only(null):null}));a.displayName="SlotClone";const l=({children:e})=>(0,i.createElement)(i.Fragment,null,e);function c(e){return(0,i.isValidElement)(e)&&e.type===l}function d(e,n){const r={...n};for(const t in n){const i=e[t],o=n[t];/^on[A-Z]/.test(t)?i&&o?r[t]=(...e)=>{o(...e),i(...e)}:i&&(r[t]=i):"style"===t?r[t]={...i,...o}:"className"===t&&(r[t]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}},8104:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/discover/course/[courseSlug]/[...path]",function(){return r(67706)}])},54534:function(e,n,r){"use strict";r.d(n,{D:function(){return i}});var t=r(85893),i=function(){return(0,t.jsxs)("svg",{width:"192",height:"37",viewBox:"0 0 192 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsxs)("g",{children:[(0,t.jsx)("path",{d:"M40.0042 10.8054C38.3888 10.8054 37.0568 12.1091 37.0568 13.7528V19.9879V26.2228H40.0042V19.9879V13.7528H43.5185H47.0328V10.8054H43.5185H40.0042Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M64.604 18.4859V13.7246C64.604 12.1092 63.3003 10.7771 61.6565 10.7771H56.8953H52.134C50.5185 10.7771 49.1865 12.0808 49.1865 13.7246V18.4859V23.2471C49.1865 24.8626 50.4902 26.1946 52.134 26.1946H56.8953H61.6565C63.272 26.1946 64.604 24.8909 64.604 23.2471V18.4859ZM61.6565 18.4859V23.2471H56.8953H52.134V18.4859V13.7246H56.8953H61.6565V18.4859Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M70.4993 10.8054C68.8839 10.8054 67.5519 12.1091 67.5519 13.7528V18.5141V23.2754C67.5519 24.8908 68.8556 26.2228 70.4993 26.2228L80.8721 26.0811V23.2754H70.4993V18.5141V13.7528H80.8721V10.9471L70.4993 10.8054Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M97.7655 10.8054H93.7695L87.9312 17.0121H86.7692V10.8054H83.8218V18.4858V26.1945H86.7692V19.9595H88.243H88.4697L94.5347 26.1945H98.5874L90.7937 18.1457L97.7655 10.8054Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M102.156 23.2471V19.9596L114.626 19.8179V17.0121V13.7246C114.626 12.1092 113.322 10.7771 111.679 10.7771H106.917H102.156C100.541 10.7771 99.2085 12.0808 99.2085 13.7246V18.4859V23.2471C99.2085 24.8626 100.512 26.1946 102.156 26.1946L114.626 26.0529V23.2471H102.156ZM102.156 13.7246H106.917H111.679V17.0121H108.391H102.156V13.7246Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M122.023 6.29926H120.889L119.075 8.5382V10.7771H116.836V13.7246L119.075 13.6962V23.2471C119.075 24.8626 120.379 26.1946 122.023 26.1946L126.784 26.0529V23.2471H122.023V13.6679L127.209 13.5829V10.7771H122.023V6.29926Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M142.74 19.9596C142.74 18.3442 141.436 17.0121 139.793 17.0121H136.08H132.367V13.7246H142.74V10.9188L132.367 10.7771C130.752 10.7771 129.42 12.0808 129.42 13.7246V17.0121C129.42 18.6276 130.723 19.9596 132.367 19.9596H136.08H139.793V23.2471H129.42V26.0529L139.793 26.1946C141.408 26.1946 142.74 24.8909 142.74 23.2471V19.9596Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M158.129 10.8054H153.368H148.606C146.991 10.8054 145.659 12.1091 145.659 13.7528V18.5141V23.2754C145.659 24.8908 146.963 26.2228 148.606 26.2228L161.076 26.0811V23.2754H148.606V19.9879L161.076 19.8461V17.0404V13.7528C161.076 12.1091 159.773 10.8054 158.129 10.8054ZM158.129 17.0121H148.606V13.7245H153.368H158.129V17.0121Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M176.493 10.8054L164.023 10.9471V13.7528H176.493V17.0404L164.023 17.1821V19.9879V23.2754C164.023 24.8908 165.327 26.2228 166.971 26.2228H171.732H176.493C178.109 26.2228 179.441 24.9192 179.441 23.2754V18.5141V13.7528C179.413 12.1091 178.109 10.8054 176.493 10.8054ZM176.493 23.2471H171.732H166.971V19.9595H176.493V23.2471Z",fill:"#E1E1E6"}),(0,t.jsx)("path",{d:"M186.814 13.6679L192 13.5829V10.7772H186.814V6.27097H185.68L183.866 8.5099V10.7488H181.627V13.6963L183.866 13.6679V23.2188C183.866 24.8343 185.17 26.1663 186.814 26.1663L191.575 26.0246V23.2188H186.814V13.6679Z",fill:"#E1E1E6"})]}),(0,t.jsxs)("g",{children:[(0,t.jsx)("path",{d:"M29.2636 0.716062L24.4739 0.00753861C24.3322 -0.0208023 24.1905 0.0358761 24.1339 0.092558L22.0933 2.7566C21.9516 2.92665 21.9233 3.15338 21.9799 3.35177C22.0366 3.55015 21.8666 3.7202 21.6682 3.69186L19.9961 3.32342C19.741 3.26674 19.4576 3.35177 19.2876 3.5785L12.6558 12.0808C12.5424 12.2508 12.3157 12.3075 12.1173 12.2225L9.59495 11.0888C9.36822 10.9755 9.11316 11.0038 8.91477 11.1455L7.63943 12.0241C7.44104 12.1658 7.15763 12.1941 6.9309 12.0808L6.3074 11.769C5.91063 11.5706 5.42884 11.7974 5.31547 12.2225L4.86201 14.2347C4.74865 14.7165 4.94704 15.1983 5.37215 15.4534L6.33574 16.0485L9.42491 17.9474L10.927 18.8826C11.3521 19.1377 11.8906 19.081 12.259 18.7692L14.7813 16.5586C14.9797 16.3886 15.2915 16.3319 15.5182 16.4736L16.2834 16.8704C16.5385 17.0121 16.8502 16.9554 17.0486 16.757L18.324 15.5667C18.5224 15.3683 18.8341 15.34 19.0608 15.4534L20.9597 16.3319C21.2431 16.4736 21.5832 16.3886 21.7816 16.1335L22.6601 14.9999L29.3202 6.46927C29.632 6.0725 29.4336 5.47734 28.9235 5.36398L27.4498 5.02388C27.138 4.9672 26.9963 4.57043 27.223 4.3437L29.5186 1.48126C29.7454 1.14117 29.6037 0.772744 29.2636 0.716062Z",fill:"#8257E6"}),(0,t.jsx)("path",{d:"M7.29885 17.8907C7.15715 17.8056 7.01544 17.9473 7.07212 18.089L7.78065 19.9595C7.83733 20.1012 7.83733 20.243 7.80899 20.3847L7.18549 22.822C7.15714 22.992 7.21383 23.1621 7.32719 23.2471L9.11267 24.6358C9.28272 24.7492 9.50944 24.7492 9.65115 24.6075L11.5216 22.9637C11.635 22.8787 11.7767 22.822 11.8901 22.7936L14.0157 22.5669C14.1574 22.5386 14.214 22.3402 14.0723 22.2552L7.29885 17.8907Z",fill:"#8257E6"}),(0,t.jsx)("path",{d:"M6.67557 24.1824C6.56221 24.0974 6.39216 24.0691 6.25046 24.1257L4.74839 24.8626C4.66337 24.8909 4.60668 24.976 4.55 25.061L1.34748 32.9681C1.34748 32.9965 1.34748 32.9964 1.34748 33.0248C1.37582 33.0531 1.40416 33.0815 1.46084 33.0815L2.1977 32.7981C2.22605 32.7981 2.25438 32.7981 2.28272 32.7981C2.31106 32.8264 2.33941 32.8831 2.31107 32.9114L0.015448 36.6808C-0.0412339 36.7658 0.0721325 36.8508 0.128814 36.7658L8.43271 28.4336C8.51773 28.3485 8.54608 28.2635 8.57442 28.1502L8.74446 25.9962C8.74446 25.8545 8.68778 25.7412 8.60276 25.6561L6.67557 24.1824Z",fill:"#8257E6"})]})]})}},238:function(e,n,r){"use strict";r.d(n,{Hh:function(){return m},sF:function(){return b},iG:function(){return y},Tj:function(){return j},mU:function(){return w},Qv:function(){return C}});var t=r(19989),i=r(256),o=r(93633),s=r(38460);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}function c(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function d(){var e=c(["\n  mutation CreateChallengeSubmission(\n    $challengeId: String!\n    $codeUrl: String!\n    $projectUrl: String\n  ) {\n    createChallengeSubmission(\n      data: {\n        challengeId: $challengeId\n        codeUrl: $codeUrl\n        projectUrl: $projectUrl\n      }\n    ) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}function u(){var e=c(["\n  query Challenge($id: String!) {\n    challenge(id: $id) {\n      id\n      submission {\n        codeUrl\n        projectUrl\n        submittedAt\n      }\n    }\n  }\n"]);return u=function(){return e},e}function f(){var e=c(["\n  query ChallengeBySlug($slug: String!) {\n    challengeBySlug(slug: $slug) {\n      id\n      title\n      description\n      slug\n      imageUrl\n      instructionsUrl\n      requirements\n      submission {\n        codeUrl\n      }\n    }\n  }\n"]);return f=function(){return e},e}function p(){var e=c(["\n  query Challenges(\n    $searchLevels: [ChallengeLevel!]\n    $searchTags: [String!]\n    $offset: Int\n    $limit: Int\n  ) {\n    challenges(\n      searchLevels: $searchLevels\n      searchTags: $searchTags\n      offset: $offset\n      limit: $limit\n    ) {\n      nodes {\n        id\n        slug\n        title\n        description\n        level\n        imageUrl\n        tags {\n          id\n          name\n          slug\n        }\n      }\n    }\n  }\n"]);return p=function(){return e},e}var h,v,x={};(v=h||(h={})).Advanced="ADVANCED",v.Basic="BASIC",v.Intermediate="INTERMEDIATE";var g=(0,t.Ps)(d());function m(e){var n=l({},x,e);return i.D(g,n)}var b=(0,t.Ps)(u());function y(e){var n=l({},x,e);return o.a(b,n)}var j=(0,t.Ps)(f());var w=(0,t.Ps)(p());function C(e){var n=l({},x,e);return s.t(w,n)}},20874:function(e,n,r){"use strict";r.d(n,{t:function(){return t}});var t=function(e){var n,r,t=e.lessonGroups,i=e.currentGroup,o=e.currentLesson,s=t.findIndex((function(e){return e.id===i.id})),a=i.lessons.findIndex((function(e){return e.id===o.id})),l=a===i.lessons.length-1,c=s===t.length-1;if(l){if(l&&!c){r=(n=t[s+1]).lessons[0]}}else{var d=i.lessons[a+1],u=a+1===i.lessons.length-1,f=i.lessons[a+2],p="MATERIAL"===(null===d||void 0===d?void 0:d.type),h=u&&p;n=h?t[s+1]:i;var v=p?f:d;if(h)r=n.lessons[0];else r=v}return{nextGroup:n,nextLesson:r}}},68592:function(e,n,r){"use strict";r.d(n,{_:function(){return i}});var t=r(67294),i=function(){var e=(0,t.useState)((function(){try{var e=window.localStorage.getItem("@Skylab:autoplay");return!!e&&JSON.parse(e)}catch(n){return false}})),n=e[0],r=e[1],i=(0,t.useCallback)((function(){try{var e=!n;r(e),window.localStorage.setItem("@Skylab:autoplay",e.toString())}catch(t){}}),[n]);return[n,i]}},67706:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return nt},default:function(){return et}});var t=r(28520),i=r.n(t),o=r(85893),s=r(96486),a=r(41664),l=r(11163),c=r(67294),d=r(30724),u=r.n(d),f=r(72132),p=r(85203),h=r(86922),v=r(81898),x=r(60899),g=r(35373),m=r(3220),b=r(20874),y=r(3654),j=r(68592),w=r(88295),C=r(27114),$=r(50611),k=function(){return(0,o.jsx)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M18.4997 0.5H1.49967C0.583008 0.5 -0.166992 1.25 -0.166992 2.16667V11.8333C-0.166992 12.75 0.583008 13.5 1.49967 13.5H18.4997C19.4163 13.5 20.1663 12.75 20.1663 11.8333V2.16667C20.1663 1.25 19.4163 0.5 18.4997 0.5ZM17.9997 11.5H1.99968V2.5H17.9997V11.5Z",fill:"#4863F7"})})},E=r(3621),z=(0,E.zo)("div",{width:"100%",flex:1}),I=(0,E.zo)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end",background:"$shape-primary",borderRadius:"0px 0px $sm $sm",padding:"$4"}),T=r(32574);function S(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function L(){var e=S(["\n    display: flex;\n    align-items: center;\n    background: none;\n    border: 0;\n    font-size: ",";\n    color: #e1e1e6;\n    position: relative;\n    cursor: ",";\n\n    aside {\n      left: calc(50% + 36px);\n    }\n\n    :hover {\n      aside {\n        opacity: 1;\n      }\n    }\n\n    span {\n      font-size: ",";\n      color: #e1e1e6;\n      margin: ",";\n      opacity: ",";\n      transition: opacity 0.2s;\n    }\n\n    input[type='checkbox'] {\n      display: none;\n    }\n\n    div {\n      position: relative;\n      width: 72px;\n      height: 24px;\n      padding: 4px;\n      background: #121214;\n      border-radius: 100px;\n      transition: background 0.2s;\n      opacity: ",";\n\n      &:after {\n        content: '';\n        position: absolute;\n        width: 50%;\n        height: calc(100% - 8px);\n        background: ",";\n        border-radius: 100px;\n        left: 4px;\n        transition: all 0.2s;\n      }\n    }\n\n    input[type='checkbox']:checked + div {\n      background: #4863f7;\n\n      &:after {\n        left: calc(50% - 4px);\n        background: #e1e1e6;\n      }\n    }\n\n    @media (max-width: 768px) {\n      span {\n        font-size: 11px;\n      }\n\n      div {\n        width: 48px;\n      }\n    }\n\n    @media (max-width: 420px) {\n      flex-direction: column;\n\n      span {\n        margin: 0 0 4px;\n      }\n\n      div {\n        height: 20px;\n      }\n    }\n  "]);return L=function(){return e},e}function O(){var e=S(["\n  ","\n"]);return O=function(){return e},e}var P=T.ZP.label.withConfig({componentId:"sc-2ade9d29-0"})(O(),(function(e){var n=e.reverseLabel,r=e.playerStyle,t=e.disabled;return(0,T.iv)(L(),r?"12px":"16px",t?"not-allowed":"pointer",r?"12px":"16px",n?"0 12px 0 0":"0 0 0 12px",t?.7:1,t?.7:1,r?"#4863F7":"#fff")}));function q(e){var n=e.label,r=e.name,t=e.onToggle,i=e.isActive,s=e.reverseLabel,a=e.playerStyle,l=e.disabled,c=e.className,d=void 0===c?"":c;return(0,o.jsxs)(P,{htmlFor:r,reverseLabel:s,playerStyle:a,disabled:l,className:d,children:[s&&(0,o.jsx)("span",{children:n}),(0,o.jsx)("input",{name:r,id:r,type:"checkbox",checked:i,onChange:t,disabled:l}),(0,o.jsx)("div",{}),!s&&(0,o.jsx)("span",{children:n})]})}function A(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function V(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function R(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){V(e,n,r[n])}))}return e}var H,D={baseURL:"https://alpaca.rocketseat.com.br/eudora"},N=(H=i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.h.post("videos/watch-time",n,D);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Unable to register watchTime",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var e=this,n=arguments;return new Promise((function(r,t){var i=H.apply(e,n);function o(e){A(i,r,t,o,s,"next",e)}function s(e){A(i,r,t,o,s,"throw",e)}o(void 0)}))}),M=(0,c.forwardRef)((function(e,n){var r=e.product,t=e.journey,i=e.platform,s=e.videoId,a=e.lessonId,l=e.signalLanguageVideoId,c=e.audioDescriptionVideoId,d=e.autoplay,u=void 0!==d&&d,f=e.theater,p=void 0!==f&&f,h=e.hasCaption,v=void 0!==h&&h,x=e.startTime,g=void 0===x?0:x,m=e.onToggleAutoplay,b=(e.onSeek,e.onToggleTheater),y=e.onTimeUpdate,j=e.onEnd;return(0,o.jsxs)(z,{children:[(0,o.jsx)(w.l,R({product:r,journey:t,platform:i,videoId:s,lessonId:a,signalLanguageVideoId:l,audioDescriptionVideoId:c,autoplay:u,startTime:g,hasCaption:v,onWatchTime:N},y&&{onTimeUpdate:y},j&&{onEnd:j},{ref:n})),(0,o.jsx)(I,{children:(0,o.jsxs)($.xu,{css:{display:"flex",gap:"$4"},children:[(0,o.jsx)(q,{label:"Autoplay",name:"autoplay",isActive:u,onToggle:m,reverseLabel:!0,playerStyle:!0}),(0,o.jsx)($.xu,{css:{"@mobile":{display:"none "}},children:(0,o.jsx)($.hU,{icon:(0,o.jsx)(k,{}),variant:"secondary",onClick:b,css:R({},p&&{background:"$shape-tertiary !important"})})})]})})]})}));M.displayName="VideoWrapper";var U=r(14289),Z=r(85665),_=r(9008),G=r(12509),Q=r(60155),B=r(2200),W=r(42151),F=r(41036),X=r(50918),Y=r(24762),J=r(83758),K=r(32912),ee=r(61973),ne=r(69119),re=r(89583),te=r(5434),ie=r(47397);function oe(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function se(){var e=oe([""]);return se=function(){return e},e}function ae(){var e=oe(["\n  margin: 30px;\n\n  @media (max-width: 768px) {\n    margin: 25px 30px;\n  }\n"]);return ae=function(){return e},e}function le(){var e=oe(["\n        color: #04d361;\n\n        &:hover {\n          color: #04d361;\n        }\n      "]);return le=function(){return e},e}function ce(){var e=oe(["\n        color: #e1e1e6;\n        font-weight: bold;\n\n        &:hover {\n          color: #e1e1e6;\n        }\n      "]);return ce=function(){return e},e}function de(){var e=oe(["\n        background: #e1e1e6;\n\n        &:before {\n          background: #202024;\n          border: 2px solid #04d361;\n          border-radius: 50%;\n        }\n\n        &:after {\n          background: #e1e1e6;\n        }\n      "]);return de=function(){return e},e}function ue(){var e=oe(["\n        background: #04d361;\n\n        &:after {\n          background: #04d361;\n        }\n      "]);return ue=function(){return e},e}function fe(){var e=oe(["\n      &::before {\n        background: #04d361;\n      }\n    "]);return fe=function(){return e},e}function pe(){var e=oe(["\n      &::after {\n        background: #04d361;\n      }\n    "]);return pe=function(){return e},e}function he(){var e=oe(["\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  z-index: 5;\n\n  & + li {\n    margin-top: 20px;\n  }\n\n  a {\n    color: #a8a8b3;\n\n    &:hover {\n      color: #e1e1e6;\n    }\n\n    ","\n\n    ","\n  }\n\n  button {\n    position: relative;\n    cursor: pointer;\n    width: 10px;\n    height: 10px;\n    border: 0;\n    background: #3c3c42;\n    border-radius: 50%;\n    margin-right: 30px;\n    flex-shrink: 0;\n    z-index: 2;\n    transition: box-shadow 0.2s;\n\n    &:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 20px;\n      height: 20px;\n      transform: translate(-50%, -50%);\n    }\n\n    &:after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 2;\n      border-radius: 50%;\n    }\n\n    &:hover {\n      box-shadow: 0 0 0 6px rgba(255, 255, 255, 0.05);\n    }\n\n    &[disabled] {\n      pointer-events: none;\n    }\n\n    ","\n\n    ","\n  }\n\n  &::before,\n  &::after {\n    content: '';\n    left: 4px;\n    width: 2px;\n    top: 50%;\n    height: calc(100% + 5px);\n    background: #3c3c42;\n    position: absolute;\n  }\n\n  &::before {\n    top: auto;\n    bottom: 50%;\n  }\n\n  &:first-child:before {\n    display: none;\n  }\n\n  &:last-child:after {\n    display: none;\n  }\n\n  ",";\n\n  ",";\n"]);return he=function(){return e},e}function ve(){var e=oe(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n\n  overflow: hidden;\n\n  p {\n    color: #737380;\n  }\n\n  a {\n    width: 100%;\n    display: flex;\n    overflow: hidden;\n  }\n\n  a span {\n    width: 100%;\n    display: block;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n\n    margin-right: 8px;\n  }\n\n  a svg {\n    margin-right: 8px;\n  }\n"]);return ve=function(){return e},e}var xe=T.ZP.div.withConfig({componentId:"sc-38952ce2-0"})(se()),ge=T.ZP.ul.withConfig({componentId:"sc-38952ce2-1"})(ae()),me=T.ZP.li.withConfig({componentId:"sc-38952ce2-2"})(he(),(function(e){return e.watched&&(0,T.iv)(le())}),(function(e){return e.active&&(0,T.iv)(ce())}),(function(e){return e.active&&(0,T.iv)(de())}),(function(e){return e.watched&&(0,T.iv)(ue())}),(function(e){var n=e.watched,r=e.prevWatched;return n&&r&&(0,T.iv)(fe())}),(function(e){var n=e.watched,r=e.nextWatched;return n&&r&&(0,T.iv)(pe())})),be=T.ZP.div.withConfig({componentId:"sc-38952ce2-3"})(ve()),ye={QUIZ:Q.Qoj,CHALLENGE:Q.Qoj,VIDEO:Q.l$7,MATERIAL:Q.xXr};var je=function(e){var n=e.lessons,r=e.lessonsRefs,t=e.current,i=e.getLessonRoute,s=e.onToggleComplete,a=e.style,c=(0,l.useRouter)();return(0,o.jsx)(xe,{style:a,children:(0,o.jsx)(ge,{children:n.map((function(e,n,a){var l,d,u,f,p,h=ye[e.type];return(0,o.jsxs)(me,{watched:null===e||void 0===e||null===(l=e.progress)||void 0===l?void 0:l.completed,prevWatched:null===(d=a[n-1])||void 0===d||null===(u=d.progress)||void 0===u?void 0:u.completed,nextWatched:null===(f=a[n+1])||void 0===f||null===(p=f.progress)||void 0===p?void 0:p.completed,active:e.id===(null===t||void 0===t?void 0:t.id),ref:function(n){r.current&&(r.current[e.id]=n)},children:[(0,o.jsx)("button",{type:"button",onClick:function(){return s(e)},disabled:["QUIZ","CHALLENGE"].includes(null===e||void 0===e?void 0:e.type)}),(0,o.jsxs)(be,{children:[(0,o.jsxs)("a",{style:{cursor:"pointer"},onClick:function(){var n;if("MATERIAL"===(null===e||void 0===e?void 0:e.type))return s(e,!0),void window.open(null===e||void 0===e||null===(n=e.material)||void 0===n?void 0:n.link,"_blank","noopener, noreferrer");c.push(i(e),void 0,{shallow:!0})},children:[h&&(0,o.jsx)(h,{size:16}),(0,o.jsx)("span",{children:e.title})]}),!!e.duration&&(0,o.jsx)("p",{children:Ve(e.duration,!0)})]})]},e.id)}))})})};function we(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function Ce(){var e=we(["\n      display: none;\n    "]);return Ce=function(){return e},e}function $e(){var e=we(["\n  position: relative;\n  width: 350px;\n  background: #19191c;\n  border-radius: 5px;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    display: initial !important;\n    width: 100%;\n  }\n\n  ","\n"]);return $e=function(){return e},e}function ke(){var e=we(["\n  display: flex;\n  align-items: center;\n  background: #202024;\n  padding: 16px;\n  cursor: pointer;\n\n  > svg {\n    flex-shrink: 0;\n    margin-left: auto;\n  }\n\n  + "," {\n    height: 0;\n    overflow: hidden;\n    transition: height 0.3s ease;\n\n    + div {\n      margin-top: 2px;\n    }\n  }\n\n  ","\n"]);return ke=function(){return e},e}function Ee(){var e=we(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  background: #000;\n  border-radius: 50%;\n  flex-shrink: 0;\n\n  span {\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    top: 0;\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 2;\n    font-size: 14px;\n    font-weight: bold;\n    color: #e1e1e6;\n  }\n"]);return Ee=function(){return e},e}function ze(){var e=we(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  circle {\n    stroke-width: 2.5;\n    stroke-dasharray: ",";\n    stroke-dashoffset: ",";\n    stroke: #04d361;\n    transform: rotate(-90deg);\n    transform-origin: 50% 50%;\n    transition: stroke 0.3s, stroke-dashoffset 0.45s ease;\n  }\n\n  + svg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 2;\n    transform: translate(-50%, -150%);\n    opacity: 0;\n    visibility: hidden;\n    transition: all 0.4s ease;\n  }\n\n  ","\n"]);return ze=function(){return e},e}function Ie(){var e=we(["\n  margin: 0 20px;\n\n  span {\n    display: block;\n    font-size: 16px;\n    font-weight: bold;\n    color: #e1e1e6;\n  }\n\n  @media (max-width: 1130px) {\n    span {\n      font-size: 14px;\n    }\n  }\n"]);return Ie=function(){return e},e}function Te(){var e=we(["\n  display: flex;\n  align-items: center;\n\n  span {\n    font-size: 12px;\n    color: text;\n    margin-top: 6px;\n  }\n\n  div {\n    width: 4px;\n    height: 4px;\n    border-radius: 4;\n    background-color: #3c3c42;\n    margin: 6px 6px 0 6px;\n  }\n"]);return Te=function(){return e},e}var Se=T.ZP.aside.withConfig({componentId:"sc-4d62a55d-0"})($e(),(function(e){return e.isHidden&&(0,T.iv)(Ce())})),Le=T.ZP.div.withConfig({componentId:"sc-4d62a55d-1"})(ke(),xe,(function(e){return e.open&&"\n    background: #29292e;\n\n    > svg {\n      transform: rotate(180deg);\n    }\n  "})),Oe=T.ZP.div.withConfig({componentId:"sc-4d62a55d-2"})(Ee()),Pe=T.ZP.svg.attrs({viewBox:"0 0 38 38",circumference:36*Math.PI}).withConfig({componentId:"sc-4d62a55d-3"})(ze(),(function(e){var n=e.circumference;return"".concat(n," ").concat(n)}),(function(e){var n=e.circumference;return n-e.progress/100*n}),(function(e){return 100===e.progress&&"\n      + svg {\n        opacity: 1;\n        visibility: visible;\n        transform: translate(-50%, -50%);\n      }\n\n      ~ span {\n        display: none;\n      }\n  "})),qe=T.ZP.div.withConfig({componentId:"sc-4d62a55d-4"})(Ie()),Ae=T.ZP.div.withConfig({componentId:"sc-4d62a55d-5"})(Te()),Ve=function(e,n){var r=void 0!==n&&n,t=!Number.isNaN(Number(e))&&(0,K.Z)((0,ee.Z)((0,ne.Z)(new Date),Number(e)),"HH:mm:ss");return r&&t?t.replace(/^00:/,""):t},Re=function(e){var n=e.isHidden,r=e.onToggleComplete,t=(0,y.T)(),i=t.lessonGroups,s=t.currentLesson,a=t.currentGroup,l=t.slug,d=(0,c.useState)(null),u=d[0],f=d[1],p=(0,c.useRef)(),h=(0,c.useRef)({}),v=(0,c.useRef)({}),x=(0,c.useRef)(null),g=function(e){return function(n){return"/discover/course/".concat(l,"/").concat(e.slug,"/").concat(n.slug)}},m=function(e){var n=e.lessons;return n.filter((function(e){var n;return null===(n=e.progress)||void 0===n?void 0:n.completed})).length/n.length*100},b=function(e,n){var r,t,i=null===(r=null===h||void 0===h?void 0:h.current[e])||void 0===r||null===(t=r.nextSibling)||void 0===t?void 0:t.scrollHeight;switch(n){case"entering":case"exiting":return{height:i};case"entered":return{height:"auto",overflow:"initial"};default:return{height:0}}};(0,c.useEffect)((function(){null===x.current?function(e){var n=null===p||void 0===p?void 0:p.current,r=null===v||void 0===v?void 0:v.current[e];n&&r&&n.scrollTo({top:r.offsetTop-16,behavior:"smooth"})}(null===s||void 0===s?void 0:s.id):setTimeout((function(){!function(e){var n=null===p||void 0===p?void 0:p.current,r=null===h||void 0===h?void 0:h.current[e];n&&r&&n.scrollTo({top:r.offsetTop,behavior:"smooth"})}(x.current),x.current=null}),300)}),[null===s||void 0===s?void 0:s.id,u,n]),(0,c.useEffect)((function(){x.current=a.lessons[0].id===s.id?a.id:null,f(a.id)}),[a,n,null===s||void 0===s?void 0:s.id]);var j=(0,c.useCallback)((function(e){var n=e.map((function(e){return e.duration})).filter((function(e){return!!e}));if(n.length){var r=n.reduce((function(e,n){return e+n}));return Ve(r,!0)}}),[]);return(0,o.jsx)(Se,{isHidden:n,children:(0,o.jsxs)($.xu,{css:{position:"absolute",display:"flex",flexDirection:"column",width:"100%",height:"100%",top:0,left:0,"@mobile":{position:"relative",height:"19rem"}},children:[(0,o.jsx)($.xu,{css:{padding:"$4 $6",background:"linear-gradient(90deg, $grey-700 0%, $grey-800 100%)"},children:(0,o.jsx)($.X6,{size:"sm",children:"Conte\xfados"})}),(0,o.jsx)($.xu,{css:{flex:1,overflowY:"auto"},ref:p,children:i.map((function(e,n){return(0,o.jsxs)(c.Fragment,{children:[(0,o.jsxs)(Le,{onClick:function(){return function(e){var n=u===e?null:e;x.current=n,f(n)}(e.id)},open:u===e.id,ref:function(n){h.current[e.id]=n},children:[(0,o.jsxs)(Oe,{children:[(0,o.jsx)(Pe,{viewBox:"0 0 38 38",circumference:36*Math.PI,progress:m(e),children:(0,o.jsx)("circle",{r:18,cx:19,cy:19})}),(0,o.jsx)(re.l_A,{color:"#04D361",size:11}),(0,o.jsx)("span",{children:n+1})]}),(0,o.jsxs)(qe,{children:[(0,o.jsx)("span",{children:e.title}),(0,o.jsxs)(Ae,{children:[(0,o.jsx)("span",{children:"".concat(e.lessons.length," aula").concat(1===e.lessons.length?"":"s")}),!!j(e.lessons)&&(0,o.jsx)("div",{}),(0,o.jsx)("span",{children:j(e.lessons)||""})]})]}),(0,o.jsx)(te.Yc6,{color:"#A8A8B3",size:24})]}),(0,o.jsx)(ie.ZP,{in:u===e.id,timeout:{enter:300,exit:0},children:function(n){return(0,o.jsx)(je,{lessons:e.lessons,lessonsRefs:v,current:s,getLessonRoute:g(e),onToggleComplete:r,style:b(e.id,n)})}})]},e.id)}))})]})})},He=(0,E.zo)("div",{display:"grid",position:"relative",gridTemplateRows:"1fr 4.5rem",gridTemplateAreas:'"sidebar" "certificate"',top:0,left:0}),De=((0,E.zo)("div",{padding:"$4 $6",height:"fit-content",background:"linear-gradient(90deg, $grey-700 0%, $grey-800 100%)"}),(0,E.zo)("div",{gridArea:"certificate",display:"flex",alignItems:"center",justifyContent:"space-between",height:"100%",width:"100%",padding:"$4",color:"$grey-400",background:"$grey-700",borderRadius:"0px 0px $sm $sm",borderTop:"1px solid $grey-600",p:{margin:"auto 0",color:"$grey-400",fontWeight:"$bold",width:"100%",display:"flex",marginLeft:"$4",justifySelf:"flex-start"},variants:{isHidden:{true:{display:"none"}},isCompleted:{true:{cursor:"pointer",p:{color:"$grey-100"}}}},"@mobile":{borderRadius:"0px"}})),Ne=(0,E.zo)("div",{width:"192px",textAlign:"center",span:{padding:"0",fontSize:"$sm",color:"$grey-200",fontWeight:"$regular"}}),Me=function(){var e=(0,J.C)(),n=e.theater,r=e.handleToggleComplete,t=e.handleGetCertificate;return(0,o.jsxs)(He,{children:[(0,o.jsx)(Re,{css:{gridArea:"sidebar"},isHidden:n,onToggleComplete:r}),(0,o.jsxs)(De,{isHidden:n,isCompleted:!1,onClick:t,children:[(0,o.jsx)(Q.Bhk,{size:"32",color:"#505059"}),(0,o.jsx)($.xv,{children:"Emitir certificado"}),(0,o.jsxs)($.xu,{"data-tip":!0,"data-for":"certificate",children:[(0,o.jsx)(Q.gMo,{size:"24"}),(0,o.jsx)(Y.Z,{id:"certificate",backgroundColor:"#09090A",place:"right",effect:"solid",offset:{right:2},children:(0,o.jsx)(Ne,{children:(0,o.jsx)($.xv,{as:"span",children:"Em breve voc\xea poder\xe1 emitir seu certificado"})})})]})]})]})},Ue=(0,E.zo)("div",{display:"flex",flexDirection:"column",width:"100%",marginBottom:"$6",background:"$grey-900",minHeight:"calc(100vh - 4.5rem)","> div:last-child":{height:"100%",aside:{borderRadius:"0","> div":{height:"unset"}}},"@media (min-width: 769px)":{display:"none"}}),Ze=(0,E.zo)("div",{display:"flex",flexDirection:"column",gap:"$4",padding:"$6","@media (max-width: 320px)":{padding:"$4"}}),_e=function(e){var n=e.communityHref;return(0,o.jsxs)(Ue,{children:[(0,o.jsxs)(Ze,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{a:{color:"$grey-100",textTransform:"uppercase"}},children:(0,o.jsx)("a",{href:Z.iy,target:"_blank",rel:"noopener noreferrer",children:"Materiais para as aulas"})}),(0,o.jsx)($.zx,{as:"a",leftIcon:(0,o.jsx)(W.iW,{arrowColor:"#ffffff"}),size:"md",variant:"primary",href:n,target:"_blank",rel:"noopener noreferrer",css:{textTransform:"uppercase",background:"$discover-mid",span:{span:{marginLeft:"$2"}},"&:hover":{background:"$discover-dark !important"}},children:"Comunidade"})]}),(0,o.jsx)(Me,{})]})},Ge=(0,E.zo)("div",{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",width:"100%",height:"100%",background:"$rgba(18, 18, 20, 0.6)",borderBottom:"1px solid $grey-600"}),Qe=(0,E.zo)("div",{display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0 $6",margin:"0 auto",height:"4.5rem",maxWidth:"90rem"}),Be=(0,E.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%","> a":{marginRight:"$4",alignItems:"center"},svg:{display:"flex",alignSelf:"center"}}),We=(0,E.zo)("a",{svg:{width:"8rem",height:"2rem"}}),Fe=(0,E.zo)("div",{display:"flex",alignItems:"center"}),Xe=(0,E.zo)("div",{display:"flex",gap:"$6"}),Ye=function(){var e=(0,x.aC)(),n=e.isAuthenticated,r=e.user,t=(0,X.a)("(max-width: 768px)"),i="https://discord-service.rocketseat.dev/signin?q=".concat(r.id),s=(0,c.useState)(!1),l=s[0],d=s[1];return(0,o.jsxs)(Ge,{children:[n&&(0,o.jsxs)(Qe,{children:[(0,o.jsxs)(Be,{children:[(0,o.jsx)(a.default,{href:"/discover",prefetch:!1,passHref:!0,children:(0,o.jsx)("a",{children:(0,o.jsx)(Q.dUf,{color:"#c4c4cc",size:24})})}),(0,o.jsx)(a.default,{prefetch:!1,href:"/discover",passHref:!0,children:(0,o.jsx)(We,{children:(0,o.jsx)(F.Vq,{})})})]}),(0,o.jsxs)(Fe,{children:[t?null:(0,o.jsxs)(Xe,{children:[(0,o.jsx)($.Qj,{href:Z.iy,target:"_blank",rel:"noopener noreferrer",rightIcon:(0,o.jsx)(Q.xXr,{size:16}),css:{color:"$discover-light"},children:"Materiais complementares"}),(0,o.jsx)($.zx,{as:"a",leftIcon:(0,o.jsx)(W.iW,{arrowColor:"#ffffff"}),size:"md",variant:"primary",href:i,target:"_blank",rel:"noopener noreferrer",css:{textTransform:"uppercase",background:"$discover-mid",span:{span:{marginLeft:"$2"}},"&:hover":{background:"$discover-dark !important"}},children:"Comunidade"})]}),(0,o.jsx)(B.d,{}),(0,o.jsx)($.hU,{onClick:function(){d(!l)},variant:"tertiary",icon:l?(0,o.jsx)(Q.IOM,{size:"32",color:"#E1E1E6"}):(0,o.jsx)(Q.lIk,{size:"32",color:"#E1E1E6"}),css:{"@media (min-width: 769px)":{display:"none"}}})]})]}),l&&(0,o.jsx)(_e,{communityHref:i})]})},Je=(0,E.zo)("div",{display:"flex",flexDirection:"column",width:"100%",height:"100%"}),Ke=function(e){var n=e.children;return(0,o.jsxs)(Je,{children:[(0,o.jsx)(_.default,{children:(0,o.jsx)("title",{children:"Discover | Rocketseat"})}),(0,o.jsx)(Ye,{}),(0,o.jsx)("div",{children:n}),(0,o.jsx)(G.$,{})]})},en=(0,E.zo)("div",{header:{paddingRight:"$3"}}),nn=(0,E.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",textarea:{resize:"none",height:"8.875rem",borderRadius:0,borderColor:"transparent",fontSize:"$md"}}),rn=function(e){var n=e.onCancel,r=e.onSubmit,t=(0,c.useState)(""),i=t[0],s=t[1],a=(0,c.useCallback)((function(){n()}),[n]),l=(0,c.useCallback)((function(){r(i)}),[i,r]);return(0,o.jsxs)(en,{children:[(0,o.jsxs)("header",{children:[(0,o.jsx)($.xv,{size:"md",children:"Gostaria de fazer um coment\xe1rio?"}),(0,o.jsx)($.hU,{size:"sm",variant:"tertiary",icon:(0,o.jsx)(Q.IOM,{size:"20"}),onClick:a})]}),(0,o.jsx)(nn,{children:(0,o.jsx)("textarea",{maxLength:450,value:i,placeholder:"Digite aqui caso queira complementar sua avalia\xe7\xe3o",onChange:function(e){return s(e.target.value)}})}),!!i&&(0,o.jsx)($.zx,{size:"lg",variant:"primary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:l,children:"Enviar coment\xe1rio"})]})},tn=(0,E.zo)("div",{header:{justifyContent:"center"}}),on=(0,E.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$sm",height:"6rem"}),sn=(0,E.zo)("button",{backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",margin:"0 0.8rem",transition:"0.3s ease-out","svg:hover":{fill:"$rocketseat-mid"},"@media (max-width: 397px)":{margin:"0 0.7rem"}}),an=[1,2,3,4,5],ln=function(e){var n=e.onSubmit,r=(0,c.useState)(null),t=r[0],i=r[1],s=(0,c.useCallback)((function(){n(t)}),[n,t]);return(0,o.jsxs)(tn,{children:[(0,o.jsx)("header",{children:(0,o.jsx)($.xv,{size:"md",children:"O que voc\xea achou dessa aula?"})}),(0,o.jsx)(on,{children:an.map((function(e,n){var r=n<=an.findIndex((function(e){return e===t}));return(0,o.jsx)(sn,{onClick:function(){return i(e)},children:r?(0,o.jsx)(re.QJe,{size:32,color:"#8257E5"}):(0,o.jsx)(re.jJN,{size:32,color:"#C4C4CC"})},e)}))}),t&&(0,o.jsx)($.zx,{size:"lg",variant:"primary",full:!0,css:{textTransform:"uppercase",borderRadius:"0 0 $sm $sm"},onClick:s,children:"Enviar feedback"})]})};ln.title="Como voc\xea avalia esse conte\xfado?";var cn=r(86893),dn=(0,E.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),un=(0,E.zo)("div",{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",fontSize:"1.125rem",borderRadius:"$sm",svg:{color:"${theme.colors.experts.green}",paddingRight:"1.25rem",width:"2.625rem",height:"2.625rem"},background:"linear-gradient(to right, #0F3924 0%, #202024 80%)",animation:"".concat(dn," 0.5s ease-in-out")}),fn=function(e){var n=e.title;return(0,o.jsxs)(un,{children:[(0,o.jsx)(cn.fmn,{}),n]})},pn=(0,E.F4)({from:{transform:"translateZ(50px)",opacity:"0"},to:{transform:"translateZ(0)",opacity:"1"}}),hn=(0,E.zo)("div",{width:"350px",borderRadius:"$sm",maxHeight:"9.25rem",border:"1px solid $grey-600",animation:"".concat(pn," 0.5s ease-in-out"),header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$3 $6",background:"linear-gradient(90deg, #29292E 0%, rgba(32, 32, 36, 0) 100%)",p:{fontWeight:"bold",color:"$text-title"}},"@media (max-width: 397px)":{width:"100%"}});function vn(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function xn(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){vn(o,t,i,s,a,"next",e)}function a(e){vn(o,t,i,s,a,"throw",e)}s(void 0)}))}}function gn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var mn=function(e){var n=e.lessonCurrentTime,r=(0,c.useState)(1),t=r[0],s=r[1],a=(0,c.useState)(null),l=a[0],d=a[1],u=(0,y.T)().currentLesson.id,f=gn((0,g.qX)({context:Z.wj,onCompleted:function(e){var n=e.upsertFeedback;return console.log(n)},onError:function(){}}),1)[0],p=(0,c.useCallback)((function(){setTimeout((function(){return s(1)}),500)}),[]),h=(0,c.useCallback)(xn(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(),e.next=3,f({variables:{data:{lessonId:u,stars:r,time:t}}});case 3:s(2),d(r);case 5:case"end":return e.stop()}}),e)}))),[f,u]),v=(0,c.useCallback)(xn(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(),e.next=3,f({variables:{data:{lessonId:u,stars:l,additionalInformation:r,time:t}}});case 3:s(4);case 4:case"end":return e.stop()}}),e)}))),[l,f,u]),x=function(){switch(t){case 1:return(0,o.jsx)(ln,{onSubmit:h});case 2:return setTimeout((function(){s(3)}),1500),(0,o.jsx)(fn,{title:"Sua avalia\xe7\xe3o foi enviada"});case 3:return(0,o.jsx)(rn,{onCancel:p,onSubmit:v});default:return setTimeout((function(){p()}),1500),(0,o.jsx)(fn,{title:"Seu coment\xe1rio foi enviado"})}};return(0,o.jsx)(hn,{children:(0,o.jsx)(x,{})})},bn=r(238),yn=function(){return(0,o.jsx)($.wu,{children:(0,o.jsxs)($.xu,{css:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"$sm",background:"$grey-800"},children:[(0,o.jsx)($.xu,{css:{width:"40%"},children:(0,o.jsx)($.qm,{type:"line",height:20})}),(0,o.jsx)($.xu,{css:{width:"100%"},children:(0,o.jsx)($.qm,{type:"line",height:16})}),(0,o.jsx)($.xu,{css:{width:"80%"},children:(0,o.jsx)($.qm,{type:"line",height:16})}),(0,o.jsxs)($.xu,{css:{width:"100%",marginTop:"$4"},children:[(0,o.jsx)($.qm,{type:"rectangle",height:52}),(0,o.jsx)($.qm,{type:"rectangle",height:52}),(0,o.jsx)($.qm,{type:"rectangle",height:52})]})]})})},jn=function(){return(0,o.jsx)($.wu,{css:{width:"100%"},children:(0,o.jsxs)($.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,o.jsx)($.xu,{css:{width:"4rem"},children:(0,o.jsx)($.qm,{type:"rectangle",height:64})}),(0,o.jsx)($.xu,{css:{width:"80%"},children:(0,o.jsx)($.qm,{type:"line",height:32})}),(0,o.jsx)($.xu,{css:{width:"100%",marginTop:"$4"},children:(0,o.jsx)($.qm,{type:"rectangle",height:128})}),(0,o.jsxs)($.xu,{css:{width:"90%",marginTop:"3.5rem",display:"flex",gap:"$2"},children:[(0,o.jsx)($.qm,{type:"rectangle",height:48}),(0,o.jsx)($.qm,{type:"rectangle",height:48})]})]})})},wn=function(){return(0,o.jsx)($.wu,{css:{width:"100%"},children:(0,o.jsxs)($.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,o.jsx)($.xu,{css:{width:"4rem"},children:(0,o.jsx)($.qm,{type:"rectangle",height:64})}),(0,o.jsx)($.xu,{css:{width:"80%"},children:(0,o.jsx)($.qm,{type:"line",height:32})}),(0,o.jsx)($.xu,{css:{width:"100%",marginTop:"$4"},children:(0,o.jsx)($.qm,{type:"rectangle",height:128})}),(0,o.jsx)($.xu,{css:{width:"60%",marginTop:"3.5rem",display:"flex",gap:"$2"},children:(0,o.jsx)($.qm,{type:"rectangle",height:48})})]})})},Cn=function(){return(0,o.jsx)($.wu,{css:{width:"100%"},children:(0,o.jsxs)($.xu,{css:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"space-between",padding:"$6",margin:"0 auto",borderRadius:"$sm",maxWidth:"24.875rem",background:"$grey-800"},children:[(0,o.jsx)($.xu,{css:{width:"4rem"},children:(0,o.jsx)($.qm,{type:"rectangle",height:64})}),(0,o.jsx)($.xu,{css:{width:"80%"},children:(0,o.jsx)($.qm,{type:"line",height:32})}),(0,o.jsx)($.xu,{css:{width:"100%",marginTop:"$4"},children:(0,o.jsx)($.qm,{type:"rectangle",height:256})}),(0,o.jsxs)($.xu,{css:{width:"90%",marginTop:"$8",display:"flex",gap:"$2"},children:[(0,o.jsx)($.qm,{type:"rectangle",height:48}),(0,o.jsx)($.qm,{type:"rectangle",height:48})]})]})})},$n=r(25675);function kn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function En(e){return(0,o.jsx)("div",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){kn(e,n,r[n])}))}return e}({},e,{children:(0,o.jsx)($n.default,{src:"/assets/icons/discover/test-emoji.svg",width:"64",height:"64",objectFit:"cover",quality:100})}))}var zn=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",padding:"$8",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800","h2, p":{marginTop:"0",alignSelf:"center"},"@mobile":{padding:"$6",justifyContent:"space-between",minHeight:"calc(100vh - 4.5rem)"}}),In=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),Tn=(0,E.zo)("ol",{gap:"$4",display:"flex",flexDirection:"column",textAlign:"justify","@mobile":{marginLeft:"$6"}}),Sn=(0,E.zo)($.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}}),Ln=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",padding:"$8",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",h2:{marginTop:"0",alignSelf:"center"},"@mobile":{padding:"$6",justifyContent:"space-between",minHeight:"calc(100vh - 4.5rem)"}}),On=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),Pn=(0,E.zo)($.xu,{gap:"$2",display:"flex",flexDirection:"column",padding:"$6 $16",borderRadius:"$sm",background:"$grey-700",width:"100%",maxWidth:"33rem","@mobile":{padding:"$6 $4"}}),qn=(0,E.zo)($.xu,{gap:"$3",display:"flex",alignItems:"center",width:"100%",padding:"$3 $4",borderRadius:"$sm",background:"$grey-600",svg:{color:"$discover-mid"},a:{textDecoration:"underline",fontWeight:"$regular",color:"$grey-100",wordBreak:"break-word"}}),An=r(87536),Vn=r(47533),Rn=r(41032),Hn=r(7258),Dn=Hn.Ry().shape({repository:Hn.Z_().required("Link do reposit\xf3rio \xe9 obrigat\xf3rio").url("Link deve ser uma URL v\xe1lida").matches(/(github.com)/,"Insira um reposit\xf3rio v\xe1lido"),link:Hn.Z_().required("Link \xe9 obrigat\xf3rio").url("Link deve ser uma URL v\xe1lida"),authorship:Hn.Xg().required("Confirmar autoria \xe9 obrigat\xf3rio"),authorization:Hn.Xg()}),Nn=(0,E.zo)("form",{gap:"$8",display:"flex",flexDirection:"column",width:"100%","&:has(input:focus-within)":{"div > svg":{color:"$discover-mid"}},"input:-webkit-autofill":{"-webkit-text-fill-color":"#E1E1E6","-webkit-box-shadow":"0 0 0px 1000px #121214 inset"}}),Mn=(0,E.zo)($.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),Un=(0,E.zo)($.xu,{gap:"$4",padding:"$2 0",display:"flex",alignItems:"center",label:{fontSize:"$sm"},"&:has(button:not(:disabled)):hover":{borderColor:"$discover-light"},'&:has(button[data-state="checked"])':{borderColor:"$discover-light"}}),Zn=(0,E.zo)(Rn.fC,{width:"$4",height:"$4",minWidth:"1rem",borderRadius:"0.25rem",background:"$grey-900",border:"1px solid $grey-500",'&[data-state="checked"]':{background:"$discover-mid","> span":{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}}}),_n=(0,E.zo)($.xu,{display:"flex",justifyContent:"flex-end",width:"100%",padding:"$6 $8","@mobile":{gap:"$4",alignItems:"center",flexDirection:"column"}}),Gn=(0,E.zo)($.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",alignItems:"center",button:{width:"100%"}}});function Qn(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function Bn(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Wn(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Bn(e,n,r[n])}))}return e}function Fn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xn(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function Yn(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){Xn(o,t,i,s,a,"next",e)}function a(e){Xn(o,t,i,s,a,"throw",e)}s(void 0)}))}}function Jn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Kn={1:function(e){var n=e.onConfirm,r=e.onCancel,t=(0,x.aC)().jwtToken,i="https://discord-service.rocketseat.dev/signin?q=".concat(t);return(0,o.jsxs)(zn,{children:[(0,o.jsxs)(In,{children:[(0,o.jsx)(En,{}),(0,o.jsx)($.X6,{children:"Instru\xe7\xf5es para o projeto final"}),(0,o.jsxs)(Tn,{css:{maxWidth:"30rem"},children:[(0,o.jsxs)($.xv,{as:"li",children:["Assista todas as aulas do curso, nelas o Mayk mostra passo a passo como construir o site ",(0,o.jsx)($.xv,{as:"strong",children:"DevLinks"})]}),(0,o.jsx)($.xv,{as:"li",children:"(Opcional) Voc\xea pode fazer altera\xe7\xf5es no layout original do projeto e leva-lo ao pr\xf3ximo n\xedvel, use sua criatividade"}),(0,o.jsxs)($.xv,{as:"li",children:["Se tiver d\xfavidas durante o processo, utilize a nossa"," ",(0,o.jsx)($.Qj,{href:i,css:{display:"inline-flex",fontWeight:"bold"},children:"comunidade"})," ",(0,o.jsx)($.Qj,{href:i,css:{display:"inline-flex",fontWeight:"bold"},children:"no Discord"})," ","para buscar ajuda"]}),(0,o.jsx)($.xv,{as:"li",children:"Quando terminar de desenvolver, volte aqui e envie seu projeto final para emitir seu certificado e compartilhar com o mundo que voc\xea finalizou seus estudos no Discover!"})]})]}),(0,o.jsxs)(Sn,{children:[(0,o.jsx)(a.default,{href:"/discover",passHref:!0,prefetch:!1,children:(0,o.jsx)($.zx,{as:"a",variant:"secondary",onClick:r,css:{textTransform:"uppercase"},children:"Enviar depois"})}),(0,o.jsx)($.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:n,children:"Enviar agora"})]})]})},2:(0,U.CG)((0,v.Q)((function(e){var n=e.codeUrl,r=e.projectUrl,t=e.onCancel,s=e.onConfirm,a=(0,An.cI)({resolver:(0,Vn.X)(Dn)}),l=a.handleSubmit,d=a.watch,u=a.control,p=a.register,h=a.setValue,v=a.formState.errors,x=(0,y.T)().currentLesson,g=(0,J.C)().handleToggleComplete,m=d(),b=Object.keys(m).filter((function(e){return!!m[e]})).length,j=!!(null===m||void 0===m?void 0:m.repository),w=!!(null===m||void 0===m?void 0:m.link),C=Fn((0,bn.Hh)({context:{service:Z.qr,showToastOnError:!1}}),1)[0],k=function(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){Qn(o,t,i,s,a,"next",e)}function a(e){Qn(o,t,i,s,a,"throw",e)}s(void 0)}))}}(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,C({variables:{challengeId:null===x||void 0===x||null===(r=x.challenge)||void 0===r?void 0:r.challengeId,codeUrl:null===n||void 0===n?void 0:n.repository,projectUrl:null===n||void 0===n?void 0:n.link}});case 4:s(),g(x,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.Am.error("Algo deu errado, por favor tente novamente!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return(0,c.useEffect)((function(){n&&h("repository",n,{shouldDirty:!0}),r&&h("link",r,{shouldDirty:!0})}),[n,r,h]),(0,o.jsxs)($.Zb,{css:{width:"100%",height:"100%",alignSelf:"flex-start","@mobile":{minHeight:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(Mn,{children:(0,o.jsx)($.X6,{size:{"@initial":"md","@mobile":"sm"},children:"Projeto final"})}),(0,o.jsxs)($.aY,{css:{display:"flex",flexDirection:"column",gap:"$8",overflowY:"auto","@mobile":{height:"100%"}},children:[(0,o.jsxs)($.xv,{children:["Parab\xe9ns por ter chegado at\xe9 aqui! ",(0,o.jsx)("br",{}),"Queremos ver como ficou o seu projeto DevLinks (ou inspirado nele). Compartilhe com a gente!"]}),(0,o.jsxs)(Nn,{children:[(0,o.jsxs)($.xu,{css:{display:"flex",flexDirection:"column",gap:"$2"},children:[(0,o.jsx)($.xv,{as:"label",children:"Link do reposit\xf3rio do seu projeto"}),(0,o.jsx)($.nv,Wn({placeholder:"Exemplo: https://github.com/maykbrito/projeto/",leftIcon:(0,o.jsx)(Q.JOq,{size:24,color:j?"#4863F7":void 0})},p("repository"),{error:!!v.repository,css:{"&:focus-within":{borderColor:"$discover-mid !important"}}})),v.repository&&(0,o.jsx)($.xv,{css:{color:"$danger-base"},children:v.repository.message})]}),(0,o.jsxs)($.xu,{css:{display:"flex",flexDirection:"column",gap:"$2"},children:[(0,o.jsx)($.xv,{as:"label",children:"Link p\xfablico do seu projeto (Github Pages)"}),(0,o.jsx)($.nv,Wn({placeholder:"Exemplo: https://maykbrito.github.io/projeto/",leftIcon:(0,o.jsx)(Q.AFE,{size:24,color:w?"#4863F7":void 0})},p("link"),{error:!!v.link,css:{"&:focus-within":{borderColor:"$discover-mid !important"}}})),v.link&&(0,o.jsx)($.xv,{css:{color:"$danger-base"},children:v.link.message})]}),(0,o.jsxs)($.xu,{children:[(0,o.jsxs)($.xu,{children:[(0,o.jsx)(An.Qr,{control:u,name:"authorship",render:function(e){var n=e.field;return(0,o.jsxs)(Un,{children:[(0,o.jsx)(Zn,{id:"authorship",value:void 0,onCheckedChange:n.onChange,children:(0,o.jsx)(Rn.z$,{children:(0,o.jsx)(Q.VQF,{size:8,color:"#ffffff"})})}),(0,o.jsx)("label",{htmlFor:"authorship",children:"Garanto que estou enviando um trabalho de minha autoria"})]})}}),v.authorship&&(0,o.jsx)($.xv,{css:{color:"$danger-base",marginTop:"0"},children:v.authorship.message})]}),(0,o.jsx)(An.Qr,{control:u,name:"authorization",render:function(e){var n=e.field;return(0,o.jsxs)(Un,{children:[(0,o.jsx)(Zn,{id:"authorization",value:void 0,onCheckedChange:n.onChange,children:(0,o.jsx)(Rn.z$,{children:(0,o.jsx)(Q.VQF,{size:8,color:"#ffffff"})})}),(0,o.jsx)("label",{htmlFor:"authorization",children:"Autorizo que meu projeto seja exibido na p\xe1gina de destaques do Discover"})]})}})]})]})]}),(0,o.jsx)(_n,{children:(0,o.jsxs)(Gn,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:t,children:"Enviar depois"}),(0,o.jsx)($.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:l(k),disabled:b<3,children:"Enviar projeto"})]})})]})}))),3:function(e){var n=e.codeUrl,r=e.projectUrl,t=e.submittedAt,i=e.onConfirm;return(0,o.jsx)($.ld,{loading:!n,children:(0,o.jsx)($.Od,{template:wn,children:(0,o.jsxs)(Ln,{children:[(0,o.jsxs)(On,{children:[(0,o.jsx)(En,{}),(0,o.jsx)($.X6,{children:"Projeto final"}),(0,o.jsxs)(Pn,{children:[(0,o.jsxs)(qn,{children:[(0,o.jsx)(Q.JOq,{size:24}),(0,o.jsx)($.Qj,{href:n,children:n})]}),(0,o.jsxs)(qn,{children:[(0,o.jsx)(Q.AFE,{size:24}),(0,o.jsx)($.Qj,{href:r,children:r})]}),(0,o.jsxs)($.xv,{css:{color:"$grey-200",margin:"$2 auto 0"},children:["Projeto enviado ",t]})]})]}),(0,o.jsx)($.zx,{css:{marginTop:"$8",textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:i,children:"Reenviar o projeto"})]})})})}},er=function(){var e,n,r,t,s,a,l,d,u=(0,c.useState)(1),f=u[0],p=u[1],h=Kn[f],v=(0,y.T)(),x=v.currentLesson,m=v.dispatch,b=(0,bn.iG)({context:{service:Z.qr,showToastOnError:!1},variables:{id:null===x||void 0===x||null===(e=x.challenge)||void 0===e?void 0:e.challengeId}}),j=b.data,w=b.loading,C=b.refetch,k=Jn((0,g.P4)({context:{service:Z.wj.service,showToastOnError:!1}}),1)[0],E=null===j||void 0===j||null===(n=j.challenge)||void 0===n||null===(r=n.submission)||void 0===r?void 0:r.codeUrl,z=null===j||void 0===j||null===(t=j.challenge)||void 0===t||null===(s=t.submission)||void 0===s?void 0:s.projectUrl,I=(0,c.useMemo)((function(){var e,n,r,t;if(null===j||void 0===j||null===(e=j.challenge)||void 0===e||null===(n=e.submission)||void 0===n?void 0:n.submittedAt)return(0,K.Z)(new Date(null===j||void 0===j||null===(r=j.challenge)||void 0===r||null===(t=r.submission)||void 0===t?void 0:t.submittedAt),"dd/MM/yyyy")}),[null===j||void 0===j||null===(a=j.challenge)||void 0===a||null===(l=a.submission)||void 0===l?void 0:l.submittedAt]),T=(0,c.useCallback)(Yn(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({variables:{lessonId:null===x||void 0===x?void 0:x.id,completed:!1,watchedSeconds:0,watchedPercentage:0,manuallyCompleted:!1},onError:function(){}});case 2:(null===(n=e.sent.data)||void 0===n?void 0:n.upsertLessonProgress)&&m({type:"SET_LESSON_PROGRESS",payload:{lessonId:null===x||void 0===x?void 0:x.id,progress:n.upsertLessonProgress}});case 4:case"end":return e.stop()}}),e)}))),[null===x||void 0===x?void 0:x.id,m,k]),S=(0,c.useCallback)(Yn(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:2===f&&(C(),p((function(e){return e+1}))),3===f&&p(1),1===f&&p((function(e){return e+1}));case 3:case"end":return e.stop()}}),e)}))),[f,C]),L=(0,c.useCallback)((function(){1===f&&(j||T()),1!==f&&p((function(e){return e-1}))}),[j,T,f]);return(0,c.useEffect)((function(){var e;(null===j||void 0===j||null===(e=j.challenge)||void 0===e?void 0:e.submission)&&p(3)}),[null===j||void 0===j||null===(d=j.challenge)||void 0===d?void 0:d.submission]),(0,o.jsx)($.xu,{css:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800"},children:(0,o.jsx)($.ld,{loading:w,children:(0,o.jsx)($.Od,{template:Cn,children:(0,o.jsx)(h,{codeUrl:E,projectUrl:z,submittedAt:I,onCancel:L,onConfirm:S})})})})},nr=r(56905),rr=r(70001),tr=r(76971),ir=r(5015),or=r(56019),sr=(0,E.zo)($.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),ar=(0,E.zo)($.xu,{display:"flex",justifyContent:"flex-end",width:"100%",padding:"$6 $8","@mobile":{padding:"$6 $8"}}),lr=(0,E.zo)($.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",flexDirection:"column"}}),cr=(0,E.zo)(or.fC,{}),dr=(0,E.zo)($.xu,{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}),ur=(0,E.zo)($.xv,{display:"flex",marginRight:"$2",color:"$success-light","> svg":{marginRight:"$4"},variants:{isCorrect:{true:{color:"$success-light"},false:{color:"$danger-light"}}}}),fr=(0,E.zo)(or.ck,{}),pr=(0,E.zo)(or.xz,{width:"100%",display:"flex",position:"relative",border:"none",padding:"$4",background:"$grey-700",borderBottom:"1px solid $grey-600",color:"$grey-100",fontWeight:"$bold",transition:"0.3s"}),hr=(0,E.zo)(or.VY,{padding:"$4 $8",background:"$grey-600"}),vr=(0,E.zo)($.xu,{pre:{margin:"$4 0",padding:"0 $4",marginLeft:"$8",borderRadius:"$sm",width:"fit-content",background:"$grey-600"}});function xr(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function gr(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){xr(o,t,i,s,a,"next",e)}function a(e){xr(o,t,i,s,a,"throw",e)}s(void 0)}))}}function mr(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var br=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",p:{marginTop:"0"},"h2, p":{alignSelf:"center"},"@mobile":{padding:"$6",height:"calc(100vh - 4.5rem)",justifyContent:"space-between"}}),yr=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),jr=(0,E.zo)($.xu,{gap:"$6",display:"flex"}),wr=(0,E.zo)($.xu,{gap:"$2",display:"flex",alignItems:"center",p:{color:"$grey-300"}}),Cr=(0,E.zo)($.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}}),$r=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800",p:{marginTop:"0"},"h2, p":{alignSelf:"center"},"@mobile":{padding:"$6",height:"calc(100vh - 4.5rem)",justifyContent:"space-between"}}),kr=(0,E.zo)($.xu,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"$6",width:"100%"}),Er=(0,E.zo)($.xu,{gap:"$2",display:"flex",flexDirection:"column",padding:"$8 $16",borderRadius:"$sm",background:"$grey-700","@mobile":{padding:"$8"}}),zr=(0,E.zo)($.xu,{display:"flex",gap:"$2",width:"100%",marginTop:"$6",justifyContent:"center","@mobile":{flexDirection:"column"}}),Ir=r(14459),Tr=r(24994),Sr=(0,E.zo)("form",{gap:"$3",display:"flex",flexDirection:"column",width:"100%",label:{pre:{margin:"$4 0",padding:"0 $4",marginLeft:"$8",borderRadius:"$sm",width:"fit-content",background:"$grey-700"},p:{"> code":{padding:"$1 $2",borderRadius:"2px",width:"fit-content",background:"$grey-700"}}}}),Lr=(0,E.zo)($.xu,{padding:"$6 $8",background:"linear-gradient(90deg, $grey-700 0%, transparent 100%)","@mobile":{padding:"$4 $6"}}),Or=(0,E.zo)($.xu,{display:"flex",justifyContent:"space-between",width:"100%",padding:"$6 $8","@mobile":{gap:"$4",alignItems:"center",flexDirection:"column"}}),Pr=(0,E.zo)($.xu,{gap:"$2",display:"flex","@mobile":{width:"100%",alignItems:"center",button:{width:"100%"}}});function qr(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function Ar(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Vr(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Ar(e,n,r[n])}))}return e}function Rr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Hr(e){return function(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Dr(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function Nr(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){Dr(o,t,i,s,a,"next",e)}function a(e){Dr(o,t,i,s,a,"throw",e)}s(void 0)}))}}function Mr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ur={1:function(e){var n=e.questionsAmount,r=e.onCancel,t=e.onConfirm,i=e.loading,s=(0,y.T)(),a=s.currentLesson,l=s.currentGroup;return(0,o.jsx)($.ld,{loading:i,children:(0,o.jsx)($.Od,{template:jn,children:(0,o.jsxs)(br,{children:[(0,o.jsxs)(yr,{children:[(0,o.jsx)(En,{}),(0,o.jsx)($.X6,{css:{margin:0},children:null===a||void 0===a?void 0:a.title}),(0,o.jsxs)($.xv,{css:{maxWidth:"31.625rem",textAlign:"center"},children:["Parab\xe9ns por chegar at\xe9 aqui! Para fixar o conte\xfado do m\xf3dulo"," ",null===l||void 0===l?void 0:l.title,", preparamos um quiz para voc\xea. Bora l\xe1?"]}),(0,o.jsxs)(jr,{children:[(0,o.jsxs)(wr,{children:[(0,o.jsx)(Q.dzk,{size:20}),(0,o.jsxs)($.xv,{children:[n-2," - ",n," minutos"]})]}),(0,o.jsxs)(wr,{children:[(0,o.jsx)(Q.mKE,{size:20}),(0,o.jsxs)($.xv,{children:[n," quest\xf5es"]})]})]})]}),(0,o.jsxs)(Cr,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:r,children:"Pular por enquanto"}),(0,o.jsx)($.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:t,children:"Iniciar quiz"})]})]})})})},2:function(e){var n=e.onCancel,r=e.onConfirm,t=(0,y.T)().currentLesson,s=(0,An.cI)(),a=(0,rr.Z)(),l=a.answers,c=a.dispatch,d=a.totalStep,f=a.currentStep,p=a.questionsData,h=a.groupedAnswers,v=a.currentQuestion,x=a.getPrevisousAnswers,g=a.currentQuestionGroupIdentifier,m=s.handleSubmit,b=s.watch,j=s.reset,w=b(),C=Rr((0,nr.cq)({context:{service:Z.EU}}),1)[0],k=Object.keys(w).some((function(e){return!!w[e]})),E=null===l||void 0===l?void 0:l.find((function(e){var n;return(null===e||void 0===e||null===(n=e.answers)||void 0===n?void 0:n.questionId)===(null===v||void 0===v?void 0:v.id)})),z=function(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){qr(o,t,i,s,a,"next",e)}function a(e){qr(o,t,i,s,a,"throw",e)}s(void 0)}))}}(i().mark((function e(n){var o,s,a,l,u,m,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n[null===v||void 0===v?void 0:v.identifier],s=null===v||void 0===v?void 0:v.options.find((function(e){return(null===e||void 0===e?void 0:e.value)===o})),a={identifier:g,answers:{questionId:null===v||void 0===v?void 0:v.id,optionId:null===s||void 0===s?void 0:s.id}},c({type:"SET_ANSWER",payload:[a]}),f!==d){e.next=11;break}return m=null===h||void 0===h||null===(l=h.quiz)||void 0===l?void 0:l.filter((function(e){var n;return(null===e||void 0===e?void 0:e.questionId)!==(null===a||void 0===a||null===(n=a.answers)||void 0===n?void 0:n.questionId)})),b=Hr(m).concat([null===a||void 0===a?void 0:a.answers]),e.next=10,C({variables:{identifier:null===t||void 0===t||null===(u=t.quiz)||void 0===u?void 0:u.formId,answers:b}});case 10:x(p,t);case 11:j(),r();case 13:case"end":return e.stop()}}),e)})));return(0,o.jsxs)($.Zb,{css:{width:"100%",height:"100%","@mobile":{height:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(Lr,{children:(0,o.jsxs)($.X6,{size:{"@initial":"md","@mobile":"sm"},children:["Question ",f,(0,o.jsxs)($.xv,{as:"span",size:{"@initial":"lg","@mobile":"md"},children:["/",d]})]})}),(0,o.jsx)($.aY,{css:{display:"flex",flexDirection:"column",height:"24rem",overflowY:"auto","@mobile":{height:"unset"}},children:(0,o.jsx)(An.RV,Vr({},s,{children:(0,o.jsxs)(Sr,{children:[(0,o.jsx)("label",{children:(0,o.jsx)(u(),{children:null===v||void 0===v?void 0:v.value})}),(0,o.jsx)(Ir.r,{data:v})]})}))}),(0,o.jsxs)(Or,{children:[(0,o.jsx)(Tr.E,{currentStep:f,totalStep:d}),(0,o.jsxs)(Pr,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:n,children:"Voltar"}),(0,o.jsx)($.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:m(z),disabled:!k&&!E,children:"Continuar"})]})]})]})},3:function(e){var n,r,t,s=e.onCancel,a=e.onConfirm,l=(0,c.useState)([]),d=l[0],f=l[1],p=(0,c.useState)(!0),h=p[0],v=p[1],x=(0,c.useState)([]),g=x[0],m=x[1],b=(0,y.T)().currentLesson,j=(0,rr.Z)(),w=j.questionsData,C=j.dispatch,k=j.previousAnswers,E=j.loadingPreviousAnswers,z=(0,J.C)().handleToggleComplete,I=null===w||void 0===w||null===(n=w.questionsByGroupId)||void 0===n?void 0:n.length,T=(0,c.useMemo)((function(){var e;return k.length&&(null===(e=g.filter((function(e,n,r){return r.findIndex((function(n){return n.questionId===e.questionId}))===n})).filter((function(e){return!!e.isCorrect})))||void 0===e?void 0:e.length)||0}),[g,k.length]),S=null===w||void 0===w||null===(r=w.questionsByGroupId)||void 0===r?void 0:r.map((function(e){return g.find((function(n){return n.questionId===e.id}))})).filter((function(e){return!!e})),L=(0,c.useCallback)(gr(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([k.map(gr(i().mark((function e(n){var r,t,o,s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null===w||void 0===w||null===(r=w.questionsByGroupId)||void 0===r?void 0:r.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n?void 0:n.answers.questionId)})),s=null===o||void 0===o||null===(t=o.options)||void 0===t?void 0:t.find((function(e){return(null===e||void 0===e?void 0:e.id)===(null===n||void 0===n?void 0:n.answers.optionId)})),e.next=5,tr.L.query({query:ir.U,variables:{questionId:n.answers.questionId,optionId:n.answers.optionId}});case 5:a=e.sent.data,m((function(e){return mr(e).concat([{questionId:null===o||void 0===o?void 0:o.id,questionTitle:null===o||void 0===o?void 0:o.value,optionTitle:null===s||void 0===s?void 0:s.value,isCorrect:null===a||void 0===a?void 0:a.answerChecker}])}));case 7:case"end":return e.stop()}}),e)}))))]);case 3:z(b,!0);case 4:return e.prev=4,v(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])}))),[b,k,z,null===w||void 0===w?void 0:w.questionsByGroupId]),O=null===w||void 0===w||null===(t=w.questionsByGroupId)||void 0===t?void 0:t.map((function(e){var n;return{identifier:null===b||void 0===b||null===(n=b.quiz)||void 0===n?void 0:n.formId,answers:{questionId:null===e||void 0===e?void 0:e.id,optionId:""}}})),P=(0,c.useCallback)((function(){C({type:"SET_ANSWER",payload:O}),s()}),[O,C,s]);return(0,c.useEffect)((function(){L()}),[L]),(0,o.jsxs)($.Zb,{css:{width:"100%",height:"100%","@mobile":{height:"calc(100vh - 4.5rem)"}},children:[(0,o.jsx)(sr,{children:(0,o.jsx)($.X6,{size:{"@initial":"md","@mobile":"sm"},children:null===b||void 0===b?void 0:b.title})}),(0,o.jsx)($.aY,{css:{gap:"$2",display:"flex",flexDirection:"column",height:"24rem",overflowY:"auto","@mobile":{height:"unset"}},children:(0,o.jsx)($.ld,{loading:h||E||!(null===S||void 0===S?void 0:S.length),children:(0,o.jsxs)($.Od,{template:yn,children:[(0,o.jsx)($.X6,{size:{"@initial":"md","@mobile":"sm"},children:T===I?"Parab\xe9ns, voc\xea acertou todas as quest\xf5es!":0===T?"Ops, voc\xea errou todas as quest\xf5es.":"Voc\xea acertou ".concat(T," de ").concat(I," quest\xf5es.")}),(0,o.jsx)($.xv,{children:"Toque para expandir e conferir as respostas. Lembre-se que voc\xea pode assistir aulas de novo e refazer o quiz para refor\xe7ar seus conhecimentos."}),(0,o.jsx)(cr,{type:"multiple",value:d,onValueChange:f,children:!h&&S&&(null===S||void 0===S?void 0:S.map((function(e,n){var r=e.questionTitle,t=e.optionTitle,i=e.isCorrect;return(0,o.jsxs)(fr,{value:r,children:[(0,o.jsx)(pr,{children:(0,o.jsxs)(dr,{children:[(0,o.jsxs)($.xv,{css:{width:"100%",display:"flex",flexWrap:"wrap",textAlign:"left",fontWeight:400},children:[(0,o.jsxs)(ur,{as:"strong",isCorrect:i,children:[i?(0,o.jsx)(Q.GcF,{}):(0,o.jsx)(Q.Jvf,{}),"Question ",n+1,"."]}),(0,o.jsx)(vr,{children:(0,o.jsx)(u(),{children:r})})]}),(0,o.jsx)(Q.CgR,{})]})}),(0,o.jsxs)(hr,{children:[(0,o.jsx)($.xv,{as:"strong",children:"Sua resposta"}),(0,o.jsx)($.xv,{css:{marginTop:"unset"},children:(0,o.jsx)(u(),{children:t})})]})]},r)})))})]})})}),(0,o.jsx)(ar,{children:(0,o.jsxs)(lr,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:P,disabled:h,children:"Refazer quiz"}),(0,o.jsx)($.zx,{type:"submit",css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:a,disabled:h,children:"Pr\xf3xima aula"})]})})]})},4:function(e){var n,r=e.onCancel,t=e.onConfirm,i=e.answerData,s=(0,y.T)().currentLesson,a=(0,rr.Z)(),l=a.dispatch,d=a.questionsData,u=null===i||void 0===i?void 0:i.questionsCount,f=null===i||void 0===i?void 0:i.correctAnswersCount,p=f/u,h=p>=.6,v=new Intl.NumberFormat("default",{style:"percent",maximumFractionDigits:0}).format(p),x=(0,c.useMemo)((function(){return(null===i||void 0===i?void 0:i.submittedAt)?(0,K.Z)(new Date(null===i||void 0===i?void 0:i.submittedAt),"dd/MM/yyyy"):""}),[null===i||void 0===i?void 0:i.submittedAt]),g=null===d||void 0===d||null===(n=d.questionsByGroupId)||void 0===n?void 0:n.map((function(e){var n;return{identifier:null===s||void 0===s||null===(n=s.quiz)||void 0===n?void 0:n.formId,answers:{questionId:null===e||void 0===e?void 0:e.id,optionId:""}}})),m=(0,c.useCallback)((function(){l({type:"SET_ANSWER",payload:g}),r()}),[g,l,r]);return(0,o.jsx)($.ld,{loading:!i,children:(0,o.jsx)($.Od,{template:jn,children:(0,o.jsxs)($r,{children:[(0,o.jsxs)(kr,{children:[(0,o.jsx)(En,{}),(0,o.jsx)($.X6,{css:{margin:0},children:null===s||void 0===s?void 0:s.title}),(0,o.jsxs)(Er,{children:[(0,o.jsxs)($.xv,{children:[(0,o.jsx)($.xv,{as:"strong",children:"Resultado: "}),f," de ",u," quest\xf5es",(0,o.jsxs)($.xv,{as:"strong",css:{color:h?"$success-light":"$danger-light"},children:[" ","(",v,")"]})]}),(0,o.jsxs)($.xv,{children:["Quiz realizado em ",x]})]})]}),(0,o.jsxs)(zr,{children:[(0,o.jsx)($.zx,{variant:"secondary",css:{textTransform:"uppercase"},onClick:m,children:"Refazer quiz"}),(0,o.jsx)($.zx,{css:{textTransform:"uppercase",background:"$discover-mid","&:hover":{background:"$discover-dark !important"}},onClick:t,children:"Ver respostas"})]})]})})})}},Zr=function(e){var n,r,t=e.quizId,s=e.handleNextLesson,a=(0,c.useState)(1),l=a[0],d=a[1],u=(0,rr.Z)(),f=u.dispatch,p=u.getPrevisousAnswers,h=(0,y.T)(),v=h.currentLesson,x=h.dispatch,m=(0,c.useState)(0),b=m[0],j=m[1],w=Ur[l],C=(0,nr.ii)({context:{service:Z.EU},variables:{id:t}}),k=C.data,E=C.refetch,z=(0,nr.Kb)({context:{service:Z.EU},variables:{groupIdentifier:t}}),I=z.data,T=z.refetch,S=Mr((0,g.P4)({context:{service:Z.wj.service,showToastOnError:!1}}),1)[0],L=null===k||void 0===k?void 0:k.questionsByGroupId,O=null===L||void 0===L?void 0:L[b],P=1===l?1:b+1,q=null===L||void 0===L?void 0:L.length,A=(0,c.useCallback)(Nr(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({variables:{lessonId:null===v||void 0===v?void 0:v.id,completed:!1,watchedSeconds:0,watchedPercentage:0,manuallyCompleted:!1},onError:function(){}});case 2:(null===(n=e.sent.data)||void 0===n?void 0:n.upsertLessonProgress)&&x({type:"SET_LESSON_PROGRESS",payload:{lessonId:null===v||void 0===v?void 0:v.id,progress:n.upsertLessonProgress}});case 4:case"end":return e.stop()}}),e)}))),[null===v||void 0===v?void 0:v.id,x,S]),V=(0,c.useCallback)(Nr(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===l&&d((function(e){return e+1})),2===l&&(b+1===(null===L||void 0===L?void 0:L.length)?d(3):j((function(e){return e+1}))),3===l&&s(),4===l&&d(3);case 4:case"end":return e.stop()}}),e)}))),[l,b]),R=(0,c.useCallback)((function(){1===l&&(A(),s()),2===l&&(0===b?d(1):j((function(e){return e-1}))),3!==l&&4!==l||(j(0),d(1))}),[l,b,s,A]);return(0,c.useEffect)((function(){var e;(null===I||void 0===I||null===(e=I.getQuestionGroupReport)||void 0===e?void 0:e.submittedAt)?d(4):(d(1),j(0))}),[null===I||void 0===I||null===(n=I.getQuestionGroupReport)||void 0===n?void 0:n.submittedAt,t]),(0,c.useEffect)((function(){var e;f({type:"SET_STEPS_INFO",payload:{totalStep:q,currentStep:P}}),f({type:"SET_CURRENT_QUESTION",payload:{currentQuestion:O,currentQuestionGroupIdentifier:null===v||void 0===v||null===(e=v.quiz)||void 0===e?void 0:e.formId}})}),[O,P,q,v,k,null===v||void 0===v||null===(r=v.quiz)||void 0===r?void 0:r.formId,f]),(0,c.useEffect)((function(){p(k,v)}),[p,k,v]),(0,c.useEffect)((function(){T(),E()}),[E,t,T]),(0,o.jsx)($.xu,{css:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",minHeight:"32.5rem",borderRadius:"$sm",background:"$grey-800"},children:(0,o.jsx)(w,{onCancel:R,onConfirm:V,questionsAmount:null===L||void 0===L?void 0:L.length,loading:!I||!k,answerData:null===I||void 0===I?void 0:I.getQuestionGroupReport})})},_r=(0,E.zo)("div",{width:"100%",margin:"auto",display:"flex",maxWidth:"87rem",alignItems:"center",flexDirection:"column",minHeight:"calc(100vh - 5.5rem - 4.5rem)",px:"$6",gap:"$8",h2:{alignSelf:"flex-start"},p:{alignSelf:"flex-start"},"@mobile":{padding:"0"}}),Gr=(0,E.zo)("div",{position:"relative",display:"flex",width:"100%",gap:"$8",paddingTop:"$8","@mobile":{flexDirection:"column",gap:"$5",paddingTop:"unset","> div:first-child":{borderRadius:"unset","> div":{borderRadius:"unset"}},"> div:last-child":{display:"none"}},variants:{theaterMode:{true:{paddingTop:"unset",gap:"unset"}}}}),Qr=(0,E.zo)("div",{display:"flex",width:"100%",marginBottom:"8.75rem",justifyContent:"space-between","@mobile":{px:"$6",flexDirection:"column"}}),Br=(0,E.zo)("div",{display:"flex",flexDirection:"column",gap:"$4","> div > p":{color:"$grey-200"}}),Wr=(0,E.zo)("div",{display:"flex",alignItems:"center",margintTop:"$2",div:{margin:"auto 0"},"@mobile":{marginBottom:"2.5rem"}});function Fr(e,n,r,t,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void r(c)}a.done?n(l):Promise.resolve(l).then(t,i)}function Xr(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){Fr(o,t,i,s,a,"next",e)}function a(e){Fr(o,t,i,s,a,"throw",e)}s(void 0)}))}}function Yr(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Jr(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){Yr(e,n,r[n])}))}return e}function Kr(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(t=(s=a.next()).done)&&(r.push(s.value),!n||r.length!==n);t=!0);}catch(l){i=!0,o=l}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Xr(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{paths:[],fallback:"blocking"});case 1:case"end":return e.stop()}}),e)}))),Xr(i().mark((function e(n){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.params.courseSlug,e.prev=1,e.next=4,m.HL.getServerPage({context:Z.wj,variables:{slug:r}},null);case 4:return t=e.sent,e.abrupt("return",{props:t.props});case 8:return e.prev=8,e.t0=e.catch(1),console.error("\ud83d\udea8 Erro ao carregar curso",e.t0),e.abrupt("return",{redirect:{destination:"/",permanent:!1}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));var et=(0,U.CG)(m.HL.withPage((function(e){var n;return{context:Z.wj,variables:{slug:null===(n=e.query)||void 0===n?void 0:n.courseSlug}}}))((0,v.Q)((function(e){var n,r,t,d=e.data,v=(0,x.aC)().isRecoveringUserSession,m=(0,l.useRouter)(),w=(0,y.T)(),C=w.lessonGroups,k=w.currentGroup,E=w.currentLesson,z=w.groupOrLessonNotFound,I=w.dispatch,T=(0,J.C)(),S=T.theater,L=T.changedProgress,O=T.handleSetIsCompleted,P=T.handleSetTheaterMode,q=T.toggledCompleteLesson,A=Kr((0,j._)(),2),V=A[0],R=A[1],H=(0,c.useRef)(),D=(0,c.useRef)(!1),N=(0,c.useRef)(),U=(0,c.useRef)(),_=null===d||void 0===d?void 0:d.course,G="VIDEO"===(null===E||void 0===E?void 0:E.type),Q=null===(n=null===_||void 0===_?void 0:_.lessonGroups[0])||void 0===n?void 0:n.lessons[0].id,B=(0,c.useMemo)((function(){var e;return(null===(e=m.query)||void 0===e?void 0:e.path)||[]}),[null===(r=m.query)||void 0===r?void 0:r.path]),W=Kr(B,2),F=W[0],X=W[1],Y=(0,c.useCallback)((function(e){if(null===H||void 0===H?void 0:H.current){var n=H.current.getPlayerInstance();if(n){var r=Math.min(Math.max(0,n.getCurrentTime()+e),n.getDuration());n.currentTime(r)}}}),[H]),K=(0,c.useCallback)((function(){if(null===H||void 0===H?void 0:H.current){var e=H.current.getPlayerInstance();if(e){var n=Math.min(Math.max(0,e.getCurrentTime()),e.getDuration()).toFixed(0);return e.setCurrentTime(n),Number(n)}}}),[H]),ee=(0,g._0)({context:{service:Z.wj.service,showToastOnError:!1},variables:{courseSlug:null===_||void 0===_?void 0:_.slug},fetchPolicy:"no-cache"}),ne=ee.data,re=ee.refetch,te=ee.loading,ie=(0,g.eU)({context:{service:Z.wj.service,showToastOnError:!1}}).data,oe=!!(null===ie||void 0===ie||null===(t=ie.getEnrollment)||void 0===t?void 0:t.startedAt),se=Kr((0,g.Bi)({context:{service:Z.wj.service,showToastOnError:!1}}),1)[0],ae=Kr((0,g.P4)({context:{service:Z.wj.service,showToastOnError:!1}}),2),le=ae[0],ce=ae[1].loading,de=(0,c.useCallback)(Xr(i().mark((function e(n,r,t){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le({variables:Jr({lessonId:n,completed:r},t),onError:function(){}});case 2:(null===(o=e.sent.data)||void 0===o?void 0:o.upsertLessonProgress)&&I({type:"SET_LESSON_PROGRESS",payload:{lessonId:n,progress:o.upsertLessonProgress}}),t.completed&&(re(),L.current=!0);case 5:case"end":return e.stop()}}),e)}))),[le,I]);(0,c.useEffect)((function(){var e,n=C.every((function(e){var n,r;return null===(r=null===(n=e.lessons)||void 0===n?void 0:n.filter((function(e){return!e.slug.match(/^(windows|mac|linux)-/gi)})))||void 0===r?void 0:r.every((function(e){var n;return null===(n=e.progress)||void 0===n?void 0:n.completed}))}));O(n),!n||!L.current||ce||(null===E||void 0===E||null===(e=E.progress)||void 0===e?void 0:e.completed)&&""===q.current||(L.current=!1,q.current="")}),[C,ce,E,q.current]);var ue=(0,c.useMemo)((function(){return(0,s.throttle)((function(e){var n,r,t=e.time;if(null===H||void 0===H?void 0:H.current){var i=null===H||void 0===H||null===(n=H.current)||void 0===n?void 0:n.getPlayerInstance(),o=E.id,s=null===E||void 0===E||null===(r=E.progress)||void 0===r?void 0:r.completed,a=null===i||void 0===i?void 0:i.getDuration();o&&a&&t&&!i.isPaused()&&de(o,s,{watchedSeconds:Math.round(t)||0,watchedPercentage:Math.round(t/a*100)||0})}}),Z.hA,{trailing:!1})}),[de,E]),fe=(0,c.useCallback)((function(e,n){m.push("/discover/course/".concat(null===_||void 0===_?void 0:_.slug,"/").concat(e.slug,"/").concat(n.slug),void 0,{shallow:!0})}),[m,null===_||void 0===_?void 0:_.slug]),pe=(0,c.useCallback)((function(){var e=(0,b.t)({lessonGroups:C,currentGroup:k,currentLesson:E}),n=e.nextGroup,r=e.nextLesson;r&&(N.current=setTimeout((function(){return fe(n,r)}),Z.Xf),U.current=f.Am.success((0,o.jsxs)(o.Fragment,{children:["Pulando para a pr\xf3xima aula em ",Z.Xf/1e3," segundos. Clique para cancelar."]}),{toastId:E.id,autoClose:Z.Xf,pauseOnHover:!1,onClick:function(){return clearTimeout(N.current)}}))}),[k,E,fe,C]),he=(0,c.useCallback)((function(){var e=E.id;q.current="";e&&(de(e,!0,{watchedPercentage:100,watchedSeconds:0,manuallyCompleted:!1}),e!==Q||oe||se(),V&&pe())}),[E,de,V,pe]);(0,c.useEffect)((function(){var e=null===ne||void 0===ne?void 0:ne.courseProgress;e&&C.map((function(n){n.lessons.map((function(n){var r=e.find((function(e){return e.slug===n.slug}));I({type:"SET_LESSON_PROGRESS",payload:{lessonId:n.id,progress:{completed:(null===r||void 0===r?void 0:r.completed)||!1}}})}))}))}),[null===ne||void 0===ne?void 0:ne.courseProgress,D.current]),(0,c.useEffect)((function(){(B.length>2||z)&&m.push("/discover/course/".concat(null===_||void 0===_?void 0:_.slug,"/").concat(F)),N.current&&clearTimeout(N.current),U.current&&f.Am.dismiss(U.current)}),[B,m,z,_,F]),(0,c.useEffect)((function(){D.current||(I({type:"SET_COURSE_DATA",payload:_}),D.current=!0)}),[I,_]),(0,c.useEffect)((function(){I({type:"SET_CURRENT",payload:{groupSlug:F,lessonSlug:X}})}),[I,F,X,ne]);var ve=(0,c.useCallback)((function(){switch(E.type){case"QUIZ":var e;return(0,o.jsx)(Zr,{quizId:null===E||void 0===E||null===(e=E.quiz)||void 0===e?void 0:e.formId,handleNextLesson:pe});case"CHALLENGE":return(0,o.jsx)(er,{});default:var n,r,t,i,s;return(0,o.jsx)(M,{product:"discover",journey:null===_||void 0===_?void 0:_.trail.slug,platform:"panda",videoId:null===E||void 0===E||null===(n=E.video)||void 0===n?void 0:n.jupiterVideoId,lessonId:E.id,signalLanguageVideoId:null===E||void 0===E||null===(r=E.video)||void 0===r?void 0:r.signalLanguageVideoId,audioDescriptionVideoId:null===E||void 0===E||null===(t=E.video)||void 0===t?void 0:t.audioDescriptionVideoId,autoplay:V,hasCaption:null===E||void 0===E||null===(i=E.video)||void 0===i?void 0:i.hasCaption,startTime:null===E||void 0===E||null===(s=E.progress)||void 0===s?void 0:s.watchedSeconds,theater:S,onToggleAutoplay:R,onTimeUpdate:ue,onEnd:he,onSeek:Y,onToggleTheater:P,ref:H})}}),[V,null===_||void 0===_?void 0:_.trail.slug,E,he,pe,Y,P,ue,R,S]);return E?v||te?(0,o.jsx)(h.I,{}):(0,o.jsx)(Ke,{children:(0,o.jsxs)(_r,{children:[(0,o.jsxs)(Gr,{theaterMode:S,children:[ve(),(0,o.jsx)(Me,{})]}),(0,o.jsxs)(Qr,{children:[(0,o.jsxs)(Br,{children:[(0,o.jsx)($.X6,{size:{"@initial":"lg","@mobile":"sm"},children:E.title}),E.description&&(0,o.jsx)(p.q,{children:(0,o.jsx)(u(),{source:E.description})}),(0,o.jsxs)(Wr,{children:[(0,o.jsx)(a.default,{href:"".concat("https://app.rocketseat.com.br","/me/maykbrito"),prefetch:!1,children:(0,o.jsx)("a",{children:(0,o.jsx)($.qE,{src:"https://github.com/maykbrito.png",name:"Mayk Brito",theme:"educator",css:{marginRight:"$4"}})})}),(0,o.jsxs)($.xu,{children:[(0,o.jsx)(a.default,{href:"".concat("https://app.rocketseat.com.br","/me/maykbrito"),prefetch:!1,children:(0,o.jsx)("a",{children:(0,o.jsx)($.X6,{css:{fontSize:"$md"},children:"Mayk Brito"})})}),(0,o.jsx)($.xv,{css:{fontSize:"$sm",marginTop:"unset"},children:"Educator na Rocketseat"})]})]})]}),G&&(0,o.jsx)(mn,{lessonCurrentTime:K})]})]})}):null})))),nt=!0}},function(e){e.O(0,[9866,5445,2544,2091,724,6893,7966,752,7796,9914,6019,1032,6282,7304,9049,2465,9774,2888,179],(function(){return n=8104,e(e.s=n);var n}));var n=e.O();_N_E=n}]);